"use strict";!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=function(){};b.exports=d},{}],2:[function(a,b,c){!function(b){var c=a("./init");c();var d=function(){var a=["3g2","3gp","asf","avi","flv","h264","m4v","mov","mp4","mpg","mpeg","rm","srt","swf","vow","vob","wmv"],c={};c.stringOfIntegers=function(a){return/^[0-9]+$/.test(a)},c.transform=function(a,b){a.style.webkitTransform=b,a.style.MozTransform=b,a.style.msTransform=b,a.style.OTransform=b,a.style.transform=b},c.paraArr=[],c.windowProps={scrollTop:b.scrollY,windowHeight:b.innerHeight,windowMidHeight:b.innerHeight/2},c.updateWindowProps_OnRaf=function(){c.windowProps.scrollTop=b.scrollY||document.documentElement.scrollTop},c.updateWindowProps_OnResize=function(){c.windowProps.scrollTop=b.scrollY||document.documentElement.scrollTop,c.windowProps.windowHeight=b.innerHeight,c.windowProps.windowMidHeight=b.innerHeight/2},c.offsetTop=function(a){var c=a.getBoundingClientRect().top,d=b.pageYOffset||document.documentElement.scrollTop;return c+d},c.init=function(a){var d={container:{"class":"pv-container",height:"250px"},block:{"class":"pv-block",speed:-Math.PI,mediatype:"image",mediapath:void 0}};a=a||d,a.container=a.container||d.container,a.container["class"]=a.container["class"]?a.container["class"].toLowerCase():d.container["class"],a.container.height=a.container.height||d.container.height,a.block=a.block||d.block,a.block["class"]=a.block["class"]?a.block["class"].toLowerCase():d.block["class"],a.block.speed=a.block.speed||d.block.speed,a.block.mediatype=a.block.mediatype?a.block.mediatype.toLowerCase():d.block.mediatype,a.block.mediapath=a.block.mediapath||d.block.mediapath;for(var e=document.getElementsByClassName(a.container["class"]),f=0;f<e.length;f++){var g={},h={};h.el=e[f],h.offset=c.offsetTop(h.el);var i=h.el.getAttribute("pv-height");if(null==i)h.el.style.height=a.container.height;else if(c.stringOfIntegers(i))h.el.style.height=i+"px";else{var j=i.substr(i.length-2,i.length);if("px"!=j&&"vh"!=j)throw new Error("Invalid height");h.el.style.height=i}h.height=h.el.clientHeight,g.container=h,g.blocks=[];for(var k=e[f].getElementsByClassName(a.block["class"]),l=0;l<k.length;l++){var m={};m.el=k[l];var n=m.el.getAttribute("pv-speed");null==n?m.speed=a.block.speed:0==n||0==n?m.speed=a.block.speed:m.speed=n;var o=m.el.getAttribute("pv-mediapath"),p=m.el.getAttribute("pv-mediatype");if(o)if(m.mediapath=o,p&&(m.mediatype=p),c.isVideo(p,o)){var q=document.createElement("video");q.src=o,q.autoPlay=!0,q.type="video/"+extension,q.loop=!0,q.muted=!0,m.el.appendChild(q),m.isPlaying=!0,q.play()}else m.el.style.backgroundImage="url('"+o+"')";var r=b.getComputedStyle(m.el).getPropertyValue("background-image");if("image"===m.mediatype&&"none"==r)return;var s=0,t=0,u=0;h.offset<c.windowProps.windowHeight?(t=(h.height+h.offset)/Math.abs(m.speed),m.speed>0?(s=-Math.abs(h.offset),u=h.height+h.offset):u=t+h.height):(t=(h.height+c.windowProps.windowHeight)/Math.abs(m.speed),u=t+h.height,m.speed>0?(s=-t,u=h.height+c.windowProps.windowHeight/Math.abs(m.speed)):u=t+h.height),Math.abs(s)>=Math.abs(u)&&(u=Math.abs(s)+1),m.el.style.setProperty("padding-bottom",u+"px",null),m.el.style.setProperty("margin-top",s+"px",null),g.blocks.push(m)}c.paraArr.push(g)}},c.isInViewport=function(a,b){return c.windowProps.scrollTop+c.windowProps.windowHeight-a>0&&c.windowProps.scrollTop<a+b},c.getExtension=function(a){a.substr(a.lastIndexOf(".")+1,a.length).toLowerCase()},c.isVideo=function(b,d){return"video"===b||a.indexOf(c.getExtension(d))!==-1},c.translate=function(){for(var a=0;a<c.paraArr.length;a++){var b=c.paraArr[a].container,d=void 0;if(c.isInViewport(b.offset,b.height)){d=b.offset<c.windowProps.windowHeight?c.windowProps.scrollTop:c.windowProps.windowHeight-b.offset+c.windowProps.scrollTop;for(var e=0;e<c.paraArr[a].blocks.length;e++){var f=c.paraArr[a].blocks[e];c.transform(f.el,"translate3d(0,"+Math.round(d/f.speed)+"px, 0)")}}else for(var g=0;g<c.paraArr[a].blocks.length;g++){var h=c.paraArr[a].blocks[g];h.isPlaying&&h.el.firstChild.pause()}}},b.onresize=function(){c.updateWindowProps_OnResize(),c.init()},b.raf=function(){return b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||function(a){b.setTimeout(a,1e3/60)}}();var d=function e(){c.updateWindowProps_OnRaf(),c.translate(),raf(e)};return raf(d),c};"undefined"==typeof pv&&(b.pv=d())}(window)},{"./init":1}]},{},[1,2]);