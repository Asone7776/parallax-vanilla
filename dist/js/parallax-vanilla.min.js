"use strict";!function(a){var b=function(){var b={};b.stringOfIntegers=function(a){return/^[0-9]+$/.test(a)},b.transform=function(a,b){a.style.webkitTransform=b,a.style.MozTransform=b,a.style.msTransform=b,a.style.OTransform=b,a.style.transform=b},b.paraArr=[],b.windowProps={scrollTop:a.scrollY,windowHeight:a.innerHeight,windowMidHeight:a.innerHeight/2},b.updateWindowProps_OnRaf=function(){b.windowProps.scrollTop=a.scrollY||document.documentElement.scrollTop},b.updateWindowProps_OnResize=function(){b.windowProps.scrollTop=a.scrollY||document.documentElement.scrollTop,b.windowProps.windowHeight=a.innerHeight,b.windowProps.windowMidHeight=a.innerHeight/2},b.offsetTop=function(b){var c=b.getBoundingClientRect().top,d=a.pageYOffset||document.documentElement.scrollTop;return c+d},b.init=function(c){var d={container:{"class":"pv-container",height:"250px"},block:{"class":"pv-block",speed:-Math.PI,image:void 0}};c=c||d,c.container=c.container||d.container,c.container["class"]=c.container["class"]||d.container["class"],c.container.height=c.container.height||d.container.height,c.block=c.block||d.block,c.block["class"]=c.block["class"]||d.block["class"],c.block.speed=c.block.speed||d.block.speed,c.block.image=c.block.image||d.block.image;for(var e=document.getElementsByClassName(c.container["class"]),f=0;f<e.length;f++){var g={},h={};h.el=e[f],h.offset=b.offsetTop(h.el);var i=h.el.getAttribute("pv-height");if(null==i)h.el.style.height=c.container.height;else if(b.stringOfIntegers(i))h.el.style.height=i+"px";else{var j=i.substr(i.length-2,i.length);if("px"!=j&&"vh"!=j)throw new Error("Invalid height");h.el.style.height=i}h.height=h.el.clientHeight,g.container=h,g.blocks=[];for(var k=e[f].getElementsByClassName(c.block["class"]),l=0;l<k.length;l++){var m={};m.el=k[l];var n=m.el.getAttribute("pv-speed");null==n?m.speed=c.block.speed:0==n||0==n?m.speed=c.block.speed:m.speed=n;var o=m.el.getAttribute("pv-image");null==o?void 0!==c.block.image&&(m.el.style.backgroundImage="url('"+c.block.image+"')"):m.el.style.backgroundImage="url('"+o+"')";var p=a.getComputedStyle(m.el).getPropertyValue("background-image");if("none"!=p){var q=0,r=0,s=0;h.offset<b.windowProps.windowHeight?(r=(h.height+h.offset)/Math.abs(m.speed),m.speed>0?(q=-Math.abs(h.offset),s=h.height+h.offset):s=r+h.height):(r=(h.height+b.windowProps.windowHeight)/Math.abs(m.speed),s=r+h.height,m.speed>0?(q=-r,s=h.height+b.windowProps.windowHeight/Math.abs(m.speed)):s=r+h.height),Math.abs(q)>=Math.abs(s)&&(s=Math.abs(q)+1),m.el.style.setProperty("padding-bottom",s+"px",null),m.el.style.setProperty("margin-top",q+"px",null)}g.blocks.push(m)}b.paraArr.push(g)}},b.isInViewport=function(a,c){return b.windowProps.scrollTop+b.windowProps.windowHeight-a>0&&b.windowProps.scrollTop<a+c},b.translate=function(){for(var a=0;a<b.paraArr.length;a++){var c=b.paraArr[a].container,d=void 0;if(b.isInViewport(c.offset,c.height)){d=c.offset<b.windowProps.windowHeight?b.windowProps.scrollTop:b.windowProps.windowHeight-c.offset+b.windowProps.scrollTop;for(var e=0;e<b.paraArr[a].blocks.length;e++){var f=b.paraArr[a].blocks[e];b.transform(f.el,"translate3d(0,"+Math.round(d/f.speed)+"px, 0)")}}}},a.onresize=function(){b.updateWindowProps_OnResize(),b.init()},a.raf=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)}}();var c=function d(){b.updateWindowProps_OnRaf(),b.translate(),raf(d)};return raf(c),b};"undefined"==typeof pv&&(a.pv=b())}(window);