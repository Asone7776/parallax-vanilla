{"version":3,"sources":["parallax-vanilla.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","module","videoExtensions","defaultSettings","container","class","height","block","speed","Math","PI","mediatype","mediapath","undefined","isStringOfIntegers","test","arg","offsetTop","rectTop","el","getBoundingClientRect","top","scrollTop","window","pageYOffset","document","documentElement","isInViewport","offset","pv","windowProps","windowHeight","getExtension","extension","attrMediapath","substr","lastIndexOf","toLowerCase","console","error","isVideo","attrMediatype","indexOf","setContainerHeight","setBlockSpeed","setBlockMediatype","setBlockMediapath","setBlockVisual","scrollY","innerHeight","windowMidHeight","settings","Object","assign","containers","getElementsByClassName","pvObj","style","clientHeight","blocks","j","hasVideoBlock","successful","marginTop","scrollDist","paddingBottom","abs","setProperty","push","pvArr","attrSpeed","getAttribute","setBlockImage","backgroundImage","backgroundImageFromDOM","getComputedStyle","getPropertyValue","setBlockVideo","videoEl","createElement","src","autoplay","loop","defaultMuted","muted","isPlaying","appendChild","attrHeight","suffix","defineParallaxVanilla","init","translate","resize","onresize","raf","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","updateLoop","log","transform","element","webkitTransform","MozTransform","msTransform","OTransform","containerObj","calc","play","round","pause"],"mappings":"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","file":"parallax-vanilla.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nconst videoExtensions = [\n  '3g2',\n  '3gp',\n  'asf',\n  'avi',\n  'flv',\n  'h264',\n  'm4v',\n  'mov',\n  'mp4',\n  'mpg',\n  'mpeg',\n  'rm',\n  'srt',\n  'swf',\n  'vow',\n  'vob',\n  'wmv',\n]\n\nconst defaultSettings = {\n  container: {\n    class: 'pv-container',\n    height: '250px',\n  },\n  block: {\n    class: 'pv-block',\n    speed: -Math.PI,\n    mediatype: 'image',\n    mediapath: undefined,\n  },\n}\n\nmodule.exports = { videoExtensions, defaultSettings }\n\n},{}],2:[function(require,module,exports){\n// pretty print\n// function pp(source, obj) {\n//   var date  = new Date(),\n//       h     = date.getHours(),\n//       m     = date.getMinutes(),\n//       s     = date.getSeconds(),\n//       now   = h+\":\"+m+\":\"+s+\" <- \"+source\n//   console.log(\"%c \" + now, \"color:blue;font-size:15px;\");\n//   if (obj instanceof HTMLElement) {\n//   \tconsole.log(obj);\n//   } else {\n// \t  console.log(JSON.stringify(obj, null, 2));\n//   }\n// }\n\n// Checks if String argument consists exclusively of numbers\nconst isStringOfIntegers = arg => {\n  return /^[0-9]+$/.test(arg)\n}\n\n// Calculates the top offset from an element to the window's || document's top, Link: https://plainjs.com/javascript/styles/get-the-position-of-an-element-relative-to-the-document-24/\nconst offsetTop = el => {\n  let rectTop = el.getBoundingClientRect().top,\n    scrollTop = window.pageYOffset || document.documentElement.scrollTop\n  return rectTop + scrollTop\n}\n\n// checks if the parallax image is in viewport.\nconst isInViewport = (offset, height) => {\n  return (\n    pv.windowProps.scrollTop + pv.windowProps.windowHeight - offset > 0 &&\n    pv.windowProps.scrollTop < offset + height\n  )\n}\n\n// Returns the extension of a media path\nconst getExtension = attrMediapath => {\n  const extension = attrMediapath\n    .substr(attrMediapath.lastIndexOf('.') + 1, attrMediapath.length)\n    .toLowerCase()\n  return extension === -1\n    ? console.error('Invalid extension for media with media path: ' + attrMediapath)\n    : extension\n}\n\n// returns {true} if media is a video\nconst isVideo = (attrMediatype, attrMediapath) => {\n  return (\n    attrMediatype === 'video' || pv.videoExtensions.indexOf(pv.getExtension(attrMediapath)) !== -1\n  )\n}\n\nmodule.exports = { isStringOfIntegers, offsetTop, isInViewport, getExtension, isVideo }\n\n},{}],3:[function(require,module,exports){\nconst { setContainerHeight } = require('./initContainer')\nconst {\n  setBlockSpeed,\n  setBlockMediatype,\n  setBlockMediapath,\n  setBlockVisual,\n} = require('./initBlock')\n\nmodule.exports = settings => {\n  pv.windowProps = {\n    scrollTop: window.scrollY,\n    windowHeight: window.innerHeight,\n    windowMidHeight: window.innerHeight / 2,\n  }\n\n  const { defaultSettings } = require('./constants')\n\n  settings\n    ? (settings = Object.assign(settings, defaultSettings))\n    : (settings = Object.assign({}, defaultSettings))\n  settings.container.class.toLowerCase()\n  settings.block.class.toLowerCase()\n  settings.block.mediatype.toLowerCase()\n\n  const containers = document.getElementsByClassName(settings.container.class)\n  for (let i = 0; i < containers.length; i++) {\n    let pvObj = {}\n    let container = {}\n\n    container.el = containers[i]\n    container.offset = pv.offsetTop(container.el)\n    container.el.style.height = setContainerHeight(container, settings)\n    container.height = container.el.clientHeight\n\n    pvObj.container = container\n    pvObj.blocks = []\n\n    const blocks = containers[i].getElementsByClassName(settings.block.class)\n    for (let j = 0; j < blocks.length; j++) {\n      let block = {}\n\n      block.el = blocks[j]\n      block.speed = setBlockSpeed(block, settings)\n      block.mediapath = setBlockMediapath(block, settings)\n      block.mediatype = setBlockMediatype(block, settings)\n      if (block.mediatype === 'video') pvObj.container.hasVideoBlock = true\n\n      const successful = setBlockVisual(block)\n      if (!successful) console.error('Did not successfully set media for block: ' + block)\n\n      // calculates the negative top property\n      // negative scroll distance\n      // plus container height / factor, because whenever we pass the element we'll always scroll the window faster then the animation (if factor < 1 it'll be increased to all is good)\n      let marginTop = 0\n      let scrollDist = 0\n      let paddingBottom = 0\n\n      // if the pv-block offset is less than the windowheight, then the scrolldist will have to be recalculated\n      if (container.offset < pv.windowProps.windowHeight) {\n        scrollDist = (container.height + container.offset) / Math.abs(block.speed)\n\n        if (block.speed > 0) {\n          marginTop = -Math.abs(container.offset)\n          paddingBottom = container.height + container.offset\n        } else {\n          paddingBottom = scrollDist + container.height\n        }\n      } else {\n        // the pv-block is below the initial windowheight\n        scrollDist = (container.height + pv.windowProps.windowHeight) / Math.abs(block.speed)\n        paddingBottom = scrollDist + container.height\n\n        if (block.speed > 0) {\n          marginTop = -scrollDist\n          paddingBottom = container.height + pv.windowProps.windowHeight / Math.abs(block.speed)\n        } else {\n          paddingBottom = scrollDist + container.height\n        }\n      }\n\n      if (Math.abs(marginTop) >= Math.abs(paddingBottom)) paddingBottom = Math.abs(marginTop) + 1\n\n      block.el.style.setProperty('padding-bottom', paddingBottom + 'px', null)\n      block.el.style.setProperty('margin-top', marginTop + 'px', null)\n\n      pvObj.blocks.push(block)\n    } // end of for blocks\n\n    pv.pvArr.push(pvObj)\n  } // loop container\n  // pp(\"pv.pvArr\", pv.pvArr)\n}\n\n},{\"./constants\":1,\"./initBlock\":4,\"./initContainer\":5}],4:[function(require,module,exports){\nconst setBlockSpeed = (block, settings) => {\n  const attrSpeed = block.el.getAttribute('pv-speed')\n\n  // No data attribute defined\n  if (!attrSpeed) return settings.block.speed\n\n  // Speed is set to 0 (fall back on block speed)\n  if (attrSpeed == 0) return settings.block.speed\n\n  return attrSpeed\n}\n\nconst setBlockMediapath = (block, settings) => {\n  const attrMediapath = block.el.getAttribute('pv-mediapath')\n\n  // No data attribute defined\n  if (!attrMediapath) return console.error('Media path not defined for block: ' + block.el)\n\n  return attrMediapath\n}\n\nconst setBlockMediatype = (block, settings) => {\n  let mediatype = block.el.getAttribute('pv-mediatype')\n  const attrMediapath = block.el.getAttribute('pv-mediapath')\n\n  // Data attribute defined\n  if (!mediatype) mediatype = settings.block.mediatype\n\n  // Media type set to video\n  if (pv.isVideo(mediatype, attrMediapath)) mediatype = 'video'\n\n  // Default\n  return mediatype\n}\n\nconst setBlockImage = block => {\n  const { mediatype, mediapath } = block\n\n  block.el.style.backgroundImage = \"url('\" + mediapath + \"')\"\n\n  // Check if the background image did not get set\n  const backgroundImageFromDOM = window\n    .getComputedStyle(block.el)\n    .getPropertyValue('background-image')\n  if (backgroundImageFromDOM == 'none') return false\n\n  return true\n}\n\nconst setBlockVideo = block => {\n  const { mediatype, mediapath } = block\n\n  let videoEl = document.createElement('video')\n  videoEl.src = mediapath\n  videoEl.autoplay = true\n  videoEl.loop = true\n  videoEl.defaultMuted = true\n  videoEl.muted = true\n  block.isPlaying = true\n  block.videoEl = videoEl\n  block.el.appendChild(videoEl)\n\n  return true\n}\n\nconst setBlockVisual = block => {\n  const { mediatype } = block\n\n  if (mediatype === 'image') return setBlockImage(block)\n  if (mediatype === 'video') return setBlockVideo(block)\n\n  return false\n}\n\nmodule.exports = { setBlockSpeed, setBlockMediatype, setBlockMediapath, setBlockVisual }\n\n},{}],5:[function(require,module,exports){\nconst setContainerHeight = (container, settings) => {\n  let attrHeight = container.el.getAttribute('pv-height')\n\n  // No data attribute\n  if (!attrHeight) return settings.container.height\n\n  // String only consists of integers, add px\n  if (pv.isStringOfIntegers(attrHeight)) return attrHeight + 'px'\n\n  // String has more than integers, assume suffix is either px or vh\n  let suffix = attrHeight.substr(attrHeight.length - 2, attrHeight.length)\n  if (suffix == 'px' || suffix == 'vh') return attrHeight\n\n  throw new Error('Invalid height suffix, expected \"px\" or \"vh\" but got: ' + suffix)\n}\n\nmodule.exports = { setContainerHeight }\n\n},{}],6:[function(require,module,exports){\n;(window => {\n  const defineParallaxVanilla = () => {\n    let pv = {}\n\n    Object.assign(pv, require('./help-functions'))\n    Object.assign(pv, require('./constants'))\n\n    /**\n\t\t * Primary data handler for containers and blocks.\n\t\t * @type {Array}\n\t\t * @structure\n\t\t * pvArr = [\n\t\t * \tobj : {\n\t\t * \t\tcontainer : {\n\t\t * \t\t\tel : HTML-element,\n\t\t * \t\t\toffset : offsetTop,\n\t\t * \t\t\theight : clientHeight\n\t\t * \t\t},\n\t\t * \t\tblocks : [\n\t\t * \t\t\tblock : {\n\t\t * \t\t\t\tel : HTML-element,\n\t\t * \t\t\t\tspeed : getAttr('pv-speed')\n     *        mediatype: getAttr('pv-mediatype'),\n     *        mediapath: getAttr('pv-mediapath'),\n\t\t * \t\t\t}\n\t\t * \t\t]\n\t\t * \t}\n\t\t * ]\n\t\t */\n    pv.pvArr = []\n    pv.windowProps = {}\n    pv.init = require('./init')\n    pv.translate = require('./translate')\n    pv.resize = require('./resize')\n\n    window.onresize = () => pv.resize()\n\n    // Request animation frame, also binds function to window\n    window.raf = (() => {\n      return (\n        window.requestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        window.mozRequestAnimationFrame ||\n        function(callback) {\n          window.setTimeout(callback, 1000 / 60) // 60 FPS\n        }\n      )\n    })()\n\n    //Main loop for updating variables and performing translates\n    const updateLoop = () => {\n      pv.translate()\n      raf(updateLoop)\n    }\n\n    // Initialize main loop\n    raf(updateLoop)\n\n    return pv\n  }\n\n  // Define pv\n  if (typeof pv === 'undefined') {\n    window.pv = defineParallaxVanilla()\n    console.log('%c parallax-vanilla defined.', 'color: green')\n  } else {\n    console.log('%c parallax-vanilla already defined.', 'color: red')\n  }\n})(window)\n\n},{\"./constants\":1,\"./help-functions\":2,\"./init\":3,\"./resize\":7,\"./translate\":8}],7:[function(require,module,exports){\nmodule.exports = () => {\n  pv.windowProps.scrollTop = window.scrollY || document.documentElement.scrollTop\n  pv.windowProps.windowHeight = window.innerHeight\n  pv.windowProps.windowMidHeight = window.innerHeight / 2\n  pv.init()\n}\n\n},{}],8:[function(require,module,exports){\n//Transform prefixes for CSS\nconst transform = (element, style) => {\n  element.style.webkitTransform = style\n  element.style.MozTransform = style\n  element.style.msTransform = style\n  element.style.OTransform = style\n  element.style.transform = style\n}\n\nmodule.exports = () => {\n  // Update selected attributes in windowProps on window raf event\n  pv.windowProps.scrollTop = window.scrollY || document.documentElement.scrollTop\n\n  // translate the parallax blocks, creating the parallax effect\n  for (let i = 0; i < pv.pvArr.length; i++) {\n    const containerObj = pv.pvArr[i].container\n    let calc\n\n    // check if parallax block is in viewport\n    if (pv.isInViewport(containerObj.offset, containerObj.height)) {\n      // if any parallax is within the first windowheight, transform from 0 (pv.scrollTop)\n      if (containerObj.offset < pv.windowProps.windowHeight) {\n        calc = pv.windowProps.scrollTop\n\n        // if the parallax is further down on the page\n        // calculate windowheight - parallax offset + scrollTop to start from 0 whereever it appears\n      } else {\n        calc = pv.windowProps.windowHeight - containerObj.offset + pv.windowProps.scrollTop\n      }\n\n      for (let j = 0; j < pv.pvArr[i].blocks.length; j++) {\n        const block = pv.pvArr[i].blocks[j]\n        if (block.mediatype === 'video' && !block.isPlaying) {\n          block.videoEl.play()\n          block.isPlaying = true\n        }\n        transform(block.el, 'translate3d(0,' + Math.round(calc / block.speed) + 'px, 0)')\n      }\n    } else {\n      // check if container even has a video block\n      if (containerObj.hasVideoBlock) {\n        // pause blocks with playing video\n        for (let j = 0; j < pv.pvArr[i].blocks.length; j++) {\n          let block = pv.pvArr[i].blocks[j]\n          if (block.mediatype === 'video' && block.isPlaying) {\n            block.videoEl.pause()\n            block.isPlaying = false\n          }\n        }\n      }\n    }\n  }\n}\n\n},{}]},{},[1,2,3,4,5,6,7,8]);\n"]}