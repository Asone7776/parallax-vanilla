{"version":3,"sources":["../../src/js/parallax-vanilla.js"],"names":["test","console","log","window","define_parallax_vanilla","dev","pv","stringOfIntegers","arg","transform","element","style","webkitTransform","MozTransform","msTransform","OTransform","paraArr","windowProps","scrollTop","scrollY","windowHeight","innerHeight","windowMidHeight","updateWindowProps_OnRaf","document","documentElement","updateWindowProps_OnResize","offsetTop","el","rectTop","getBoundingClientRect","top","pageYOffset","init","settings","settingsDefault","container","class","height","block","speed","Math","PI","image","undefined","containers","getElementsByClassName","i","length","obj","offset","pvHeight","getAttribute","clientHeight","blocks","j","pvImage","backgroundImage","getComputedStyle","getPropertyValue","scrollDist","paddingBottom","abs","setProperty","push","isInViewport","translate","containerObj","calc","round","onresize","raf","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","updateLoop"],"mappings":";;AAAA,IAAMA,OAAO,SAAPA,IAAO,GAAM;AACjBC,SAAQC,GAAR,CAAYF,IAAZ;AACD,CAFD;AAGAA;AACA,CAAC,UAASG,MAAT,EAAiB;;AAGhB;;AAGA;;;;;AAIA,UAASC,uBAAT,GAAmC;AAClC;;;;AAIA,MAAIC,MAAM,IAAV;;AAGA;;;;AAIA,MAAIC,KAAK,EAAT;;AAGA;;;;;AAKAA,KAAGC,gBAAH,GAAsB,UAASC,GAAT,EAAc;AACnC,UAAQ,YAAWR,IAAX,CAAgBQ,GAAhB;AAAR;AACA,GAFD;;AAKD;;;;;AAKAF,KAAGG,SAAH,GAAe,UAASC,OAAT,EAAkBC,KAAlB,EAAyB;AACtCD,WAAQC,KAAR,CAAcC,eAAd,GAAgCD,KAAhC;AACAD,WAAQC,KAAR,CAAcE,YAAd,GAA6BF,KAA7B;AACAD,WAAQC,KAAR,CAAcG,WAAd,GAA4BH,KAA5B;AACAD,WAAQC,KAAR,CAAcI,UAAd,GAA2BJ,KAA3B;AACAD,WAAQC,KAAR,CAAcF,SAAd,GAA0BE,KAA1B;AACD,GAND;;AASA;;;;;;;;;;;;;;;;;;;;AAoBAL,KAAGU,OAAH,GAAa,EAAb;;AAGC;;;;AAIAV,KAAGW,WAAH,GAAiB;AACjBC,cAAiBf,OAAOgB,OADP;AAEjBC,iBAAiBjB,OAAOkB,WAFP;AAGjBC,oBAAkBnB,OAAOkB,WAAP,GAAqB;;AAIxC;;;AAPkB,GAAjB,CAUDf,GAAGiB,uBAAH,GAA6B,YAAW;AACvCjB,MAAGW,WAAH,CAAeC,SAAf,GAA2Bf,OAAOgB,OAAP,IAAkBK,SAASC,eAAT,CAAyBP,SAAtE;AACA,GAFD;;AAKA;;;AAGAZ,KAAGoB,0BAAH,GAAgC,YAAW;AAC1CpB,MAAGW,WAAH,CAAeC,SAAf,GAA8Bf,OAAOgB,OAAP,IAAkBK,SAASC,eAAT,CAAyBP,SAAzE;AACAZ,MAAGW,WAAH,CAAeG,YAAf,GAAgCjB,OAAOkB,WAAvC;AACAf,MAAGW,WAAH,CAAeK,eAAf,GAAiCnB,OAAOkB,WAAP,GAAqB,CAAtD;AACA,GAJD;;AAOA;;;;;;AAMAf,KAAGqB,SAAH,GAAe,UAASC,EAAT,EAAa;AACzB,OAAIC,UAAUD,GAAGE,qBAAH,GAA2BC,GAAzC;AAAA,OACAb,YAAYf,OAAO6B,WAAP,IAAsBR,SAASC,eAAT,CAAyBP,SAD3D;AAEA,UAAQW,UAAUX,SAAlB;AACF,GAJD;;AAOA;;;;AAIAZ,KAAG2B,IAAH,GAAU,UAASC,QAAT,EAAmB;AAC5B,OAAIC,kBAAkB;AACrBC,eAAY;AACXC,YAAY,cADD;AAEXC,aAAa;AAFF,KADS;AAKrBC,WAAQ;AACPF,YAAY,UADL;AAEPG,YAAY,CAACC,KAAKC,EAFX;AAGPC,YAAYC;AAHL;AALa,IAAtB;;AAYA;AACA,OAAIV,aAAaU,SAAjB,EAA4B;AAC3BV,eAAWC,eAAX;AACA,IAFD,MAEO;;AAEN;AACA,QAAID,SAASE,SAAT,KAAuBQ,SAA3B,EAAsC;AACpCV,cAASE,SAAT,GAAqBD,gBAAgBC,SAArC;AACD,KAFD,MAEO;AACN,SAAIF,SAASE,SAAT,CAAmBC,KAAnB,KAA6BO,SAAjC,EAA4C;AAC3CV,eAASE,SAAT,CAAmBC,KAAnB,GAA4BF,gBAAgBC,SAAhB,CAA0BC,KAAtD;AACA;AACD,SAAIH,SAASE,SAAT,CAAmBE,MAAnB,KAA8BM,SAAlC,EAA6C;AAC5CV,eAASE,SAAT,CAAmBE,MAAnB,GAA4BH,gBAAgBC,SAAhB,CAA0BE,MAAtD;AACA;AACD;;AAED;AACA,QAAIJ,SAASK,KAAT,KAAmBK,SAAvB,EAAkC;AAChCV,cAASK,KAAT,GAAiBJ,gBAAgBI,KAAjC;AACA,KAFF,MAEQ;AACN;AACD,SAAIL,SAASK,KAAT,CAAeF,KAAf,KAAyBO,SAA7B,EAAwC;AACvCV,eAASK,KAAT,CAAeF,KAAf,GAAuBF,gBAAgBI,KAAhB,CAAsBF,KAA7C;AACA;;AAED;AACA,SAAIH,SAASK,KAAT,CAAeC,KAAf,KAAyBI,SAA7B,EAAwC;AACvCV,eAASK,KAAT,CAAeC,KAAf,GAAuBL,gBAAgBI,KAAhB,CAAsBC,KAA7C;AACA;;AAED;AACA,SAAIN,SAASK,KAAT,CAAeI,KAAf,KAAyBC,SAA7B,EAAwC;AACvCV,eAASK,KAAT,CAAeI,KAAf,GAAuBR,gBAAgBI,KAAhB,CAAsBI,KAA7C;AACA;AACA;AACF;;AAED,OAAIE,aAAarB,SAASsB,sBAAT,CAAgCZ,SAASE,SAAT,CAAmBC,KAAnD,CAAjB;;AAEA;AACA,QAAK,IAAIU,IAAI,CAAb,EAAgBA,IAAIF,WAAWG,MAA/B,EAAuCD,GAAvC,EAA4C;AAC3C,QAAIE,MAAM,EAAV;AACA,QAAIb,YAAY,EAAhB;;AAEAA,cAAUR,EAAV,GAAeiB,WAAWE,CAAX,CAAf;AACAX,cAAUc,MAAV,GAAmB5C,GAAGqB,SAAH,CAAaS,UAAUR,EAAvB,CAAnB;;AAEA,QAAIuB,WAAWf,UAAUR,EAAV,CAAawB,YAAb,CAA0B,WAA1B,CAAf;AACA,QAAID,YAAY,IAAhB,EAAsB;AACrBf,eAAUR,EAAV,CAAajB,KAAb,CAAmB2B,MAAnB,GAA4BJ,SAASE,SAAT,CAAmBE,MAA/C;AACA,KAFD,MAEO;AACN,SAAIhC,GAAGC,gBAAH,CAAoB4C,QAApB,CAAJ,EAAmC;AAClCf,gBAAUR,EAAV,CAAajB,KAAb,CAAmB2B,MAAnB,GAA4Ba,WAAW,IAAvC;AACA,MAFD,MAEO;AACNf,gBAAUR,EAAV,CAAajB,KAAb,CAAmB2B,MAAnB,GAA4Ba,QAA5B;AACA;AACD;;AAEDf,cAAUE,MAAV,GAAmBF,UAAUR,EAAV,CAAayB,YAAhC;;AAEAJ,QAAIb,SAAJ,GAAgBA,SAAhB;;AAEAa,QAAIK,MAAJ,GAAa,EAAb;AACA,QAAIA,SAAST,WAAWE,CAAX,EAAcD,sBAAd,CAAqCZ,SAASK,KAAT,CAAeF,KAApD,CAAb;;AAEC,SAAK,IAAIkB,IAAI,CAAb,EAAgBA,IAAID,OAAON,MAA3B,EAAmCO,GAAnC,EAAwC;;AAEvC,SAAIhB,QAAQ,EAAZ;AACAA,WAAMX,EAAN,GAAW0B,OAAOC,CAAP,CAAX;;AAEA,SAAIf,QAAQD,MAAMX,EAAN,CAASwB,YAAT,CAAsB,UAAtB,CAAZ;AACA,SAAIZ,SAAS,IAAb,EAAmB;AAClBD,YAAMC,KAAN,GAAcN,SAASK,KAAT,CAAeC,KAA7B;AACA,MAFD,MAEO;AACN,UAAIA,SAAS,CAAT,IAAcA,SAAS,GAAvB,IAA8BA,SAAS,IAA3C,EAAiD;AAChDD,aAAMC,KAAN,GAAcN,SAASK,KAAT,CAAeC,KAA7B;AACA,OAFD,MAEO;AACND,aAAMC,KAAN,GAAcA,KAAd;AACA;AACD;;AAED,SAAIgB,UAAUjB,MAAMX,EAAN,CAASwB,YAAT,CAAsB,UAAtB,CAAd;;AAEA,SAAII,WAAW,IAAf,EAAqB;AACpB,UAAItB,SAASK,KAAT,CAAeI,KAAf,KAAyBC,SAA7B,EAAwC;AACvCL,aAAMX,EAAN,CAASjB,KAAT,CAAe8C,eAAf,GAAiC,UAAUvB,SAASK,KAAT,CAAeI,KAAzB,GAAiC,IAAlE;AACA;AACD,MAJD,MAIO;AACNJ,YAAMX,EAAN,CAASjB,KAAT,CAAe8C,eAAf,GAAiC,UAAUD,OAAV,GAAoB,IAArD;AACA;;AAED,SAAIb,QAAQxC,OAAOuD,gBAAP,CAAwBnB,MAAMX,EAA9B,EAAkC+B,gBAAlC,CAAmD,kBAAnD,CAAZ;;AAEA;AACA,SAAIhB,SAAS,MAAb,EAAqB;;AAEpB;AACA;AACA;AACA,UAAIZ,MAAM,CAAV;AACA,UAAI6B,aAAa,CAAjB;AACA,UAAIC,gBAAgB,CAApB;;AAEA;AACA,UAAIzB,UAAUc,MAAV,GAAmB5C,GAAGW,WAAH,CAAeG,YAAtC,EAAoD;AACnDwC,oBAAa,CAACxB,UAAUE,MAAV,GAAmBF,UAAUc,MAA9B,IAAwCT,KAAKqB,GAAL,CAASvB,MAAMC,KAAf,CAArD;;AAEA,WAAID,MAAMC,KAAN,GAAc,CAAlB,EAAqB;AACpBT,cAAM,CAAEU,KAAKqB,GAAL,CAAS1B,UAAUc,MAAnB,CAAR;AACAW,wBAAgBzB,UAAUE,MAAV,GAAmBF,UAAUc,MAA7C;AACA,QAHD,MAGO;AACNW,wBAAgBD,aAAcxB,UAAUE,MAAxC;AACA;;AAGD;AACA,OAZD,MAYO;AACNsB,oBAAa,CAACxB,UAAUE,MAAV,GAAmBhC,GAAGW,WAAH,CAAeG,YAAnC,IAAmDqB,KAAKqB,GAAL,CAASvB,MAAMC,KAAf,CAAhE;AACAqB,uBAAgBD,aAAaxB,UAAUE,MAAvC;;AAEA,WAAIC,MAAMC,KAAN,GAAc,CAAlB,EAAqB;AACpBT,cAAM,CAAE6B,UAAR;AACAC,wBAAgBzB,UAAUE,MAAV,GAAoBhC,GAAGW,WAAH,CAAeG,YAAf,GAA8BqB,KAAKqB,GAAL,CAASvB,MAAMC,KAAf,CAAlE;AACA,QAHD,MAGO;AACNqB,wBAAgBD,aAAaxB,UAAUE,MAAvC;AACA;AACD;;AAED,UAAIG,KAAKqB,GAAL,CAAS/B,GAAT,KAAiBU,KAAKqB,GAAL,CAASD,aAAT,CAArB,EAA8C;AAC7CA,uBAAgBpB,KAAKqB,GAAL,CAAS/B,GAAT,IAAgB,CAAhC;AACA;;AAEDQ,YAAMX,EAAN,CAASjB,KAAT,CAAeoD,WAAf,CAA2B,gBAA3B,EAA6CF,gBAAgB,IAA7D,EAAmE,IAAnE;AACA;AACAtB,YAAMX,EAAN,CAASjB,KAAT,CAAeoD,WAAf,CAA2B,YAA3B,EAAyChC,MAAM,IAA/C,EAAqD,IAArD;AACA;;AAEDkB,SAAIK,MAAJ,CAAWU,IAAX,CAAgBzB,KAAhB;AAED,KAnG0C,CAmGzC;;AAEFjC,OAAGU,OAAH,CAAWgD,IAAX,CAAgBf,GAAhB;AACA,IA5J2B,CA4J1B;AACF;AACA,GA9JD;;AAiKA;AACA;AACA;AACA;AACA3C,KAAG2D,YAAH,GAAkB,UAASf,MAAT,EAAiBZ,MAAjB,EAAyB;AAC1C;AACA;AACA,UACGhC,GAAGW,WAAH,CAAeC,SAAf,GAA2BZ,GAAGW,WAAH,CAAeG,YAA1C,GAAyD8B,MAAzD,GAAkE,CAAlE,IAEA5C,GAAGW,WAAH,CAAeC,SAAf,GAA2BgC,SAASZ,MAHvC;AAKA,GARD;;AAWA;AACAhC,KAAG4D,SAAH,GAAe,YAAW;;AAEzB;AACA,QAAK,IAAInB,IAAI,CAAb,EAAgBA,IAAIzC,GAAGU,OAAH,CAAWgC,MAA/B,EAAuCD,GAAvC,EAA4C;AAC3C,QAAIoB,eAAe7D,GAAGU,OAAH,CAAW+B,CAAX,EAAcX,SAAjC;;AAEA;AACA,QAAI9B,GAAG2D,YAAH,CAAgBE,aAAajB,MAA7B,EAAqCiB,aAAa7B,MAAlD,CAAJ,EAA+D;;AAE9D;AACA,SAAI6B,aAAajB,MAAb,GAAsB5C,GAAGW,WAAH,CAAeG,YAAzC,EAAuD;AACtD,UAAIgD,OAAO9D,GAAGW,WAAH,CAAeC,SAA1B;;AAEA;AACA;AACA,MALD,MAKO;AACN,UAAIkD,OAAO9D,GAAGW,WAAH,CAAeG,YAAf,GAA8B+C,aAAajB,MAA3C,GAAoD5C,GAAGW,WAAH,CAAeC,SAA9E;AACA;;AAED,UAAK,IAAIqC,IAAI,CAAb,EAAgBA,IAAIjD,GAAGU,OAAH,CAAW+B,CAAX,EAAcO,MAAd,CAAqBN,MAAzC,EAAiDO,GAAjD,EAAsD;AACrD,UAAIhB,QAAQjC,GAAGU,OAAH,CAAW+B,CAAX,EAAcO,MAAd,CAAqBC,CAArB,CAAZ;;AAEA;AACAjD,SAAGG,SAAH,CACG8B,MAAMX,EADT,EAEG,mBAAmBa,KAAK4B,KAAL,CAAWD,OAAO7B,MAAMC,KAAxB,CAAnB,GAAoD,QAFvD;AAKA,MArB6D,CAqB5D;AAEF,KA3B0C,CA2BzC;AAEF,IAhCwB,CAgCvB;AACD,GAjCF,CA7RmC,CA8ThC;;;AAGF;AACA;;;AAGArC,SAAOmE,QAAP,GAAkB,YAAW;AAC5BhE,MAAGoB,0BAAH;AACApB,MAAG2B,IAAH;AACA,GAHD;;AAMD;;;;AAIA9B,SAAOoE,GAAP,GAAc,YAAW;AACvB,UAAOpE,OAAOqE,qBAAP,IACLrE,OAAOsE,2BADF,IAELtE,OAAOuE,wBAFF,IAGL,UAAUC,QAAV,EAAoB;AACrBxE,WAAOyE,UAAP,CAAkBD,QAAlB,EAA4B,OAAO,EAAnC,EADqB,CACmB;AACtC,IALH;AAMD,GAPY,EAAb;;AAUA;;;AAGA,WAASE,UAAT,GAAsB;AACrBvE,MAAGiB,uBAAH;AACAjB,MAAG4D,SAAH;AACAK,OAAIM,UAAJ;AACA;;AAGD;;;AAGAN,MAAIM,UAAJ;;AAGA;;;AAGE,SAAOvE,EAAP;AAED,EAxXe,CAwXd;;;AAGF;;;AAGA,KAAI,OAAOA,EAAP,KAAe,WAAnB,EAAgC;AAC9BH,SAAOG,EAAP,GAAYF,yBAAZ;AACDH,UAAQC,GAAR,CAAY,8BAAZ,EAA4C,cAA5C;AACA,EAHD,MAGO;AACLD,UAAQC,GAAR,CAAY,sCAAZ,EAAoD,YAApD;AACD;AAEF,CArYD,EAqYGC,MArYH","file":"parallax-vanilla.js","sourcesContent":["const test = () => {\n  console.log(test);\n}\ntest();\n(function(window) {\n\n\n  'use strict';\n\n\n  /**\n   * Defines pv\n   * @return {Object} pv object\n   */\n  function define_parallax_vanilla() {\n  \t/**\n  \t * Controls environment settings\n  \t * @type {Boolean}\n  \t */\n  \tvar dev = true;\n\n\n  \t/**\n  \t * [Library object]\n  \t * @type {Object}\n  \t */\n  \tvar pv = {};\n\n\n  \t/**\n  \t * Checks if String argument consists exclusively of numbers\n  \t * @param  {String}  arg String to check\n  \t * @return {Boolean}     True if String consists exclusively of numbers\n  \t */\n  \tpv.stringOfIntegers = function(arg) {\n  \t\treturn (/^[0-9]+$/.test(arg));\n  \t}\n\n\n\t\t/**\n\t\t * Transform prefixes for CSS\n\t\t * @param  {HTML-element} element A para-block element\n\t\t * @param  {CSS-style} style   E.g. 'transform3d(x, y, z)'\n\t\t */\n\t\tpv.transform = function(element, style) {\n\t\t  element.style.webkitTransform = style;\n\t\t  element.style.MozTransform = style;\n\t\t  element.style.msTransform = style;\n\t\t  element.style.OTransform = style;\n\t\t  element.style.transform = style;\n\t\t}\n\n\n\t\t/**\n\t\t * Primary data handler for containers and blocks.\n\t\t * @type {Array}\n\t\t * @structure\n\t\t * paraArr = [\n\t\t * \tobj : {\n\t\t * \t\tcontainer : {\n\t\t * \t\t\tel : HTML-element,\n\t\t * \t\t\toffset : offsetTop,\n\t\t * \t\t\theight : clientHeight\n\t\t * \t\t},\n\t\t * \t\tblocks : [\n\t\t * \t\t\tblock : {\n\t\t * \t\t\t\tel : HTML-element,\n\t\t * \t\t\t\tspeed : getAttr('speed')\n\t\t * \t\t\t}\n\t\t * \t\t]\n\t\t * \t}\n\t\t * ]\n\t\t */\n\t\tpv.paraArr = [];\n\n\n  \t/**\n  \t * Window properties\n  \t * @type {Object}\n  \t */\n  \tpv.windowProps = {\n\t\t\tscrollTop    \t\t: window.scrollY,\n\t\t\twindowHeight \t\t: window.innerHeight,\n\t\t\twindowMidHeight : window.innerHeight / 2,\n  \t}\n\n\n\t\t/**\n\t\t * Update selected attributes in windowProps on window raf event\n\t\t */\n\t\tpv.updateWindowProps_OnRaf = function() {\n\t\t\tpv.windowProps.scrollTop = window.scrollY || document.documentElement.scrollTop;\n\t\t}\n\n\n\t\t/**\n\t\t * Update selected attributes in pv.windowProps on window resize event\n\t\t */\n\t\tpv.updateWindowProps_OnResize = function() {\n\t\t\tpv.windowProps.scrollTop \t\t\t= window.scrollY || document.documentElement.scrollTop;\n\t\t\tpv.windowProps.windowHeight \t\t= window.innerHeight;\n\t\t\tpv.windowProps.windowMidHeight = window.innerHeight / 2;\n\t\t}\n\n\n\t\t/**\n\t\t * Calculates the top offset from an element to the window's || document's top\n\t\t * @param  {HTML-element} el A pv-block element\n\t\t * @return {Int}    The element's top offset to document.\n\t\t * Link: https://plainjs.com/javascript/styles/get-the-position-of-an-element-relative-to-the-document-24/\n\t\t */\n\t\tpv.offsetTop = function(el) {\n\t    var rectTop = el.getBoundingClientRect().top,\n\t    scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n\t    return (rectTop + scrollTop);\n\t\t}\n\n\n\t\t/**\n\t\t * Initialize pv.paraArr\n\t\t * @param  {Object} settings User settings\n\t\t */\n\t\tpv.init = function(settings) {\n\t\t\tvar settingsDefault = {\n\t\t\t\tcontainer : {\n\t\t\t\t\tclass \t\t\t\t: 'pv-container',\n\t\t\t\t\theight \t\t\t\t: '250px'\n\t\t\t\t},\n\t\t\t\tblock : {\n\t\t\t\t\tclass \t\t\t\t: 'pv-block',\n\t\t\t\t\tspeed \t\t\t\t: -Math.PI,\n\t\t\t\t\timage \t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// check if any settings are defined\n\t\t\tif (settings === undefined) {\n\t\t\t\tsettings = settingsDefault;\n\t\t\t} else {\n\n\t\t\t\t// check container & container properties\n\t\t\t\tif (settings.container === undefined) {\n\t\t \t\t\tsettings.container = settingsDefault.container;\n\t\t\t\t} else {\n\t\t\t\t\tif (settings.container.class === undefined) {\n\t\t\t\t\t\tsettings.container.class \t= settingsDefault.container.class;\n\t\t\t\t\t}\n\t\t\t\t\tif (settings.container.height === undefined) {\n\t\t\t\t\t\tsettings.container.height = settingsDefault.container.height;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// check block & block properties\n\t\t\t\tif (settings.block === undefined) {\n \t\t\t\t\tsettings.block = settingsDefault.block;\n\t \t\t\t} else {\n\t \t\t\t\t// check class\n\t\t\t\t\tif (settings.block.class === undefined) {\n\t\t\t\t\t\tsettings.block.class = settingsDefault.block.class;\n\t\t\t\t\t}\n\n\t\t\t\t\t// check speed\n\t\t\t\t\tif (settings.block.speed === undefined) {\n\t\t\t\t\t\tsettings.block.speed = settingsDefault.block.speed;\n\t\t\t\t\t}\n\n\t\t\t\t\t// check image\n\t\t\t\t\tif (settings.block.image === undefined) {\n\t\t\t\t\t\tsettings.block.image = settingsDefault.block.image;\n\t\t\t\t\t}\n\t \t\t\t}\n\t\t\t}\n\n\t\t\tvar containers = document.getElementsByClassName(settings.container.class);\n\n\t\t\t// loop containers\n\t\t\tfor (var i = 0; i < containers.length; i++) {\n\t\t\t\tvar obj = {};\n\t\t\t\tvar container = {};\n\n\t\t\t\tcontainer.el = containers[i];\n\t\t\t\tcontainer.offset = pv.offsetTop(container.el);\n\n\t\t\t\tvar pvHeight = container.el.getAttribute('pv-height');\n\t\t\t\tif (pvHeight == null) {\n\t\t\t\t\tcontainer.el.style.height = settings.container.height;\n\t\t\t\t} else {\n\t\t\t\t\tif (pv.stringOfIntegers(pvHeight)) {\n\t\t\t\t\t\tcontainer.el.style.height = pvHeight + \"px\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontainer.el.style.height = pvHeight;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcontainer.height = container.el.clientHeight;\n\n\t\t\t\tobj.container = container;\n\n\t\t\t\tobj.blocks = [];\n\t\t\t\tvar blocks = containers[i].getElementsByClassName(settings.block.class);\n\n\t\t\t\t\tfor (var j = 0; j < blocks.length; j++) {\n\n\t\t\t\t\t\tvar block = {};\n\t\t\t\t\t\tblock.el = blocks[j];\n\n\t\t\t\t\t\tvar speed = block.el.getAttribute(\"pv-speed\");\n\t\t\t\t\t\tif (speed == null) {\n\t\t\t\t\t\t\tblock.speed = settings.block.speed;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (speed == 0 || speed == 0.0 || speed == 0.00) {\n\t\t\t\t\t\t\t\tblock.speed = settings.block.speed;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tblock.speed = speed;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar pvImage = block.el.getAttribute(\"pv-image\");\n\n\t\t\t\t\t\tif (pvImage == null) {\n\t\t\t\t\t\t\tif (settings.block.image !== undefined) {\n\t\t\t\t\t\t\t\tblock.el.style.backgroundImage = \"url('\" + settings.block.image + \"')\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tblock.el.style.backgroundImage = \"url('\" + pvImage + \"')\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar image = window.getComputedStyle(block.el).getPropertyValue(\"background-image\");\n\n\t\t\t\t\t\t// if the pv-block has a background image\n\t\t\t\t\t\tif (image != \"none\") {\n\n\t\t\t\t\t\t\t// calculates the negative top property\n\t\t\t\t\t\t\t// negative scroll distance\n\t\t\t\t\t\t\t// plus container height / factor, because whenever we pass the element we'll always scroll the window faster then the animation (if factor < 1 it'll be increased to all is good)\n\t\t\t\t\t\t\tvar top = 0;\n\t\t\t\t\t\t\tvar scrollDist = 0;\n\t\t\t\t\t\t\tvar paddingBottom = 0;\n\n\t\t\t\t\t\t\t// if the pv-block offset is less than the windowheight, then the scrolldist will have to be recalculated\n\t\t\t\t\t\t\tif (container.offset < pv.windowProps.windowHeight) {\n\t\t\t\t\t\t\t\tscrollDist = (container.height + container.offset) / Math.abs(block.speed);\n\n\t\t\t\t\t\t\t\tif (block.speed > 0) {\n\t\t\t\t\t\t\t\t\ttop = - Math.abs(container.offset);\n\t\t\t\t\t\t\t\t\tpaddingBottom = container.height + container.offset;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tpaddingBottom = scrollDist + (container.height);\n\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\t// the pv-block is below the initial windowheight\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tscrollDist = (container.height + pv.windowProps.windowHeight) / Math.abs(block.speed);\n\t\t\t\t\t\t\t\tpaddingBottom = scrollDist + container.height;\n\n\t\t\t\t\t\t\t\tif (block.speed > 0) {\n\t\t\t\t\t\t\t\t\ttop = - scrollDist;\n\t\t\t\t\t\t\t\t\tpaddingBottom = container.height + (pv.windowProps.windowHeight / Math.abs(block.speed));\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tpaddingBottom = scrollDist + container.height;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (Math.abs(top) >= Math.abs(paddingBottom)) {\n\t\t\t\t\t\t\t\tpaddingBottom = Math.abs(top) + 1;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tblock.el.style.setProperty(\"padding-bottom\", paddingBottom + \"px\", null);\n\t\t\t\t\t\t\t// block.el.style.setProperty(\"top\", top + \"px\", null);\n\t\t\t\t\t\t\tblock.el.style.setProperty(\"margin-top\", top + \"px\", null);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tobj.blocks.push(block);\n\n\t\t\t\t} // end of for blocks\n\n\t\t\t\tpv.paraArr.push(obj);\n\t\t\t} // loop container\n\t\t\t// pp(\"pv.paraArr\", pv.paraArr);\n\t\t}\n\n\n\t\t// checks if the parallax image is in viewport.\n\t\t// @PARAM typeVar , the type, e.g. \"paraVar\" or \"meetVar\"\n\t\t// @PARAM i \t\t\t, index of the element that will match against variable arrays\n\t\t// @RETURN bool \t, true/false\n\t\tpv.isInViewport = function(offset, height) {\n\t\t\t// console.log(\"scrollTop: \", pv.windowProps.scrollTop, \" wHeight: \", pv.windowProps.windowHeight);\n\t\t\t// console.log(\"offset: \", offset, \" height: \", height);\n\t\t\treturn (\n\t\t\t\t\t\tpv.windowProps.scrollTop + pv.windowProps.windowHeight - offset > 0\n\t\t\t\t\t\t\t&&\n\t\t\t\t\t\tpv.windowProps.scrollTop < offset + height\n\t\t\t\t\t\t);\n\t\t}\n\n\n\t\t// translates the parallax blocks, creating the effect\n\t\tpv.translate = function() {\n\n\t\t\t// loop parallax blocks\n\t\t\tfor (var i = 0; i < pv.paraArr.length; i++) {\n\t\t\t\tvar containerObj = pv.paraArr[i].container;\n\n\t\t\t\t// check if parallax block is in viewport\n\t\t\t\tif (pv.isInViewport(containerObj.offset, containerObj.height)) {\n\n\t\t\t\t\t// if any parallax is within the first windowheight, transform from 0 (pv.scrollTop)\n\t\t\t\t\tif (containerObj.offset < pv.windowProps.windowHeight) {\n\t\t\t\t\t\tvar calc = pv.windowProps.scrollTop;\n\n\t\t\t\t\t\t// if the parallax is further down on the page\n\t\t\t\t\t\t// calculate windowheight - parallax offset + scrollTop to start from 0 whereever it appears\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar calc = pv.windowProps.windowHeight - containerObj.offset + pv.windowProps.scrollTop;\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (var j = 0; j < pv.paraArr[i].blocks.length; j++) {\n\t\t\t\t\t\tvar block = pv.paraArr[i].blocks[j];\n\n\t\t\t\t\t\t// perform the transform\n\t\t\t\t\t\tpv.transform(\n\t\t\t\t    \tblock.el,\n\t\t\t\t    \t\"translate3d(0,\" + Math.round(calc / block.speed) + \"px, 0)\"\n\t\t\t\t    );\n\n\t\t\t\t\t} // end of for blocks\n\n\t\t\t\t} // end of if\n\n\t\t\t} // end of for container\n\t  } // translate\n\n\n\t  // window resize event\n\t  /**\n\t   * Window on resize event, updates pv.windowProps\n\t   */\n\t  window.onresize = function() {\n\t  \tpv.updateWindowProps_OnResize();\n\t  \tpv.init();\n\t  }\n\n\n\t\t/**\n\t\t * Request animation frame\n\t\t * Binds function to window\n\t\t */\n\t\twindow.raf = (function() {\n\t\t  return window.requestAnimationFrame  ||\n\t\t    window.webkitRequestAnimationFrame ||\n\t\t    window.mozRequestAnimationFrame    ||\n\t\t    function (callback) {\n\t\t\t\t\twindow.setTimeout(callback, 1000 / 60); // 60 FPS\n\t\t    };\n\t\t})();\n\n\n\t\t/**\n\t\t * Main loop for updating variables and performing translates\n\t\t */\n\t\tfunction updateLoop() {\n\t\t\tpv.updateWindowProps_OnRaf();\n\t\t\tpv.translate();\n\t\t\traf(updateLoop);\n\t\t}\n\n\n\t\t/**\n\t\t * Initialize main loop\n\t\t */\n\t\traf(updateLoop);\n\n\n\t\t/**\n\t\t * Returns the library\n\t\t */\n    return pv;\n\n  } // end of define_pv()\n\n\n  /**\n   * Define pv to window if not already done\n   */\n  if (typeof(pv) === 'undefined') {\n    window.pv = define_parallax_vanilla();\n  \tconsole.log(\"%c parallax-vanilla defined.\", \"color: green\");\n  } else {\n    console.log(\"%c parallax-vanilla already defined.\", \"color: red\");\n  }\n\n})(window);\n"]}