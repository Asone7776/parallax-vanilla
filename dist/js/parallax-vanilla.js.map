{"version":3,"sources":["parallax-vanilla.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","module","videoExtensions","MEDIA_TYPES","IMAGE","VIDEO","NONE","ELEMENT_DATA_KEYS","MEDIAPATH","MEDIATYPE","MUTE","HEIGHT","SPEED","defaultSettings","container","class","height","block","speed","Math","PI","mediatype","mediapath","mute","pp","source","obj","date","Date","h","getHours","m","getMinutes","getSeconds","now","console","log","HTMLElement","JSON","stringify","isStringOfIntegers","test","arg","setContainerHeight","setBlockSpeed","setBlockMediaProps","setBlockMute","setBlockVisual","setBlockAttributes","pv","containerArr","settings","initSettings","containerElements","document","getElementsByClassName","forEach","el","containerElement","offset","offsetTop","style","clientHeight","blocks","blockElements","blockElement","hasVideoBlock","successful","error","push","userSettings","Object","keys","elementSettings","setting","hasOwnProperty","rectTop","getBoundingClientRect","top","scrollTop","window","pageYOffset","documentElement","attrSpeed","getAttribute","attrSpeedNumber","Number","isNaN","isVideo","setBlockImage","backgroundImage","backgroundImageFromDOM","getComputedStyle","getPropertyValue","videoElClicked","videoEl","unmutedBlock","muted","audioButton","classList","add","toggle","setBlockVideo","createElement","src","autoplay","loop","defaultMuted","appendChild","orientation","addEventListener","href","className","preventDefault","insertAdjacentElement","updateWindowProps","marginTop","scrollDist","paddingBottom","windowProps","windowHeight","abs","setProperty","getExtension","extension","attrMediapath","substr","lastIndexOf","toLowerCase","attrMediatype","indexOf","scrollY","innerHeight","windowMidHeight","attrHeight","suffix","arguments","apply","defineParallaxVanilla","init","onresize","raf","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","updateLoop","prevScrollTop","calc","isInViewport","mostReContainerInViewport","j","play","remove","transform","round","pause","nextContainer","nextContainerIsSmaller","element","webkitTransform","MozTransform","msTransform","OTransform"],"mappings":";;;;AAAA,CAAC,SAASA,CAAT,CAAWC,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiB;AAAC,WAASC,CAAT,CAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,QAAG,CAACJ,EAAEG,CAAF,CAAJ,EAAS;AAAC,UAAG,CAACJ,EAAEI,CAAF,CAAJ,EAAS;AAAC,YAAIE,IAAE,OAAOC,OAAP,IAAgB,UAAhB,IAA4BA,OAAlC,CAA0C,IAAG,CAACF,CAAD,IAAIC,CAAP,EAAS,OAAOA,EAAEF,CAAF,EAAI,CAAC,CAAL,CAAP,CAAe,IAAGI,CAAH,EAAK,OAAOA,EAAEJ,CAAF,EAAI,CAAC,CAAL,CAAP,CAAe,IAAIK,IAAE,IAAIC,KAAJ,CAAU,yBAAuBN,CAAvB,GAAyB,GAAnC,CAAN,CAA8C,MAAMK,EAAEE,IAAF,GAAO,kBAAP,EAA0BF,CAAhC;AAAkC,WAAIG,IAAEX,EAAEG,CAAF,IAAK,EAACS,SAAQ,EAAT,EAAX,CAAwBb,EAAEI,CAAF,EAAK,CAAL,EAAQU,IAAR,CAAaF,EAAEC,OAAf,EAAuB,UAASd,CAAT,EAAW;AAAC,YAAIE,IAAED,EAAEI,CAAF,EAAK,CAAL,EAAQL,CAAR,CAAN,CAAiB,OAAOI,EAAEF,IAAEA,CAAF,GAAIF,CAAN,CAAP;AAAgB,OAApE,EAAqEa,CAArE,EAAuEA,EAAEC,OAAzE,EAAiFd,CAAjF,EAAmFC,CAAnF,EAAqFC,CAArF,EAAuFC,CAAvF;AAA0F,YAAOD,EAAEG,CAAF,EAAKS,OAAZ;AAAoB,OAAIL,IAAE,OAAOD,OAAP,IAAgB,UAAhB,IAA4BA,OAAlC,CAA0C,KAAI,IAAIH,IAAE,CAAV,EAAYA,IAAEF,EAAEa,MAAhB,EAAuBX,GAAvB;AAA2BD,MAAED,EAAEE,CAAF,CAAF;AAA3B,GAAmC,OAAOD,CAAP;AAAS,CAAzb,EAA2b,EAAC,GAAE,CAAC,UAASI,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAC/d,QAAMI,kBAAkB,CACtB,KADsB,EAEtB,KAFsB,EAGtB,KAHsB,EAItB,KAJsB,EAKtB,KALsB,EAMtB,MANsB,EAOtB,KAPsB,EAQtB,KARsB,EAStB,KATsB,EAUtB,KAVsB,EAWtB,MAXsB,EAYtB,IAZsB,EAatB,KAbsB,EActB,KAdsB,EAetB,KAfsB,EAgBtB,KAhBsB,EAiBtB,KAjBsB,CAAxB;;AAoBA,QAAMC,cAAc;AAClBC,aAAO,OADW;AAElBC,aAAO,OAFW;AAGlBC,YAAM;AAHY,KAApB;;AAMA,QAAMC,oBAAoB;AACxBC,iBAAW,cADa;AAExBC,iBAAW,cAFa;AAGxBC,YAAM,SAHkB;AAIxBC,cAAQ,WAJgB;AAKxBC,aAAO;AALiB,KAA1B;;AAQA,QAAMC,kBAAkB;AACtBC,iBAAW;AACTC,eAAO,cADE;AAETC,gBAAQ;AAFC,OADW;AAKtBC,aAAO;AACLF,eAAO,UADF;AAELG,eAAO,CAACC,KAAKC,EAFR;AAGLC,mBAAWlB,YAAYC,KAHlB;AAILkB,mBAAW,IAJN;AAKLC,cAAM;AALD;AALe,KAAxB;;AAcAtB,WAAOH,OAAP,GAAiB,EAAEI,gCAAF,EAAmBW,gCAAnB,EAAoCN,oCAApC,EAAuDJ,wBAAvD,EAAjB;AAEC,GAnD6b,EAmD5b,EAnD4b,CAAH,EAmDrb,GAAE,CAAC,UAASX,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACzC;AACA,QAAM0B,KAAK,SAALA,EAAK,CAACC,MAAD,EAASC,GAAT,EAAiB;AAC1B,UAAIC,OAAO,IAAIC,IAAJ,EAAX;AAAA,UACEC,IAAIF,KAAKG,QAAL,EADN;AAAA,UAEEC,IAAIJ,KAAKK,UAAL,EAFN;AAAA,UAGE5C,IAAIuC,KAAKM,UAAL,EAHN;AAAA,UAIEC,MAAML,IAAI,GAAJ,GAAUE,CAAV,GAAc,GAAd,GAAoB3C,CAApB,GAAwB,MAAxB,GAAiCqC,MAJzC;AAKAU,cAAQC,GAAR,CAAY,QAAQF,GAApB,EAAyB,4BAAzB;AACA,UAAIR,eAAeW,WAAnB,EAAgC;AAC9BF,gBAAQC,GAAR,CAAYV,GAAZ;AACD,OAFD,MAEO;AACLS,gBAAQC,GAAR,CAAYE,KAAKC,SAAL,CAAeb,GAAf,EAAoB,IAApB,EAA0B,CAA1B,CAAZ;AACD;AACF,KAZD;;AAcA;AACA,QAAMc,qBAAqB,SAArBA,kBAAqB,MAAO;AAChC,aAAO,YAAWC,IAAX,CAAgBC,GAAhB;AAAP;AACD,KAFD;;AAIAzC,WAAOH,OAAP,GAAiB,EAAjB;AAEC,GAvBO,EAuBN,EAvBM,CAnDmb,EA0Erb,GAAE,CAAC,UAASN,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAAA,mBACAN,QAAQ,aAAR,CADA;AAAA,QACjCqB,eADiC,YACjCA,eADiC;AAAA,QAChBV,WADgB,YAChBA,WADgB;;AAAA,oBAEVX,QAAQ,iBAAR,CAFU;AAAA,QAEjCmD,kBAFiC,aAEjCA,kBAFiC;;AAAA,oBASrCnD,QAAQ,aAAR,CATqC;AAAA,QAIvCoD,aAJuC,aAIvCA,aAJuC;AAAA,QAKvCC,kBALuC,aAKvCA,kBALuC;AAAA,QAMvCC,YANuC,aAMvCA,YANuC;AAAA,QAOvCC,cAPuC,aAOvCA,cAPuC;AAAA,QAQvCC,kBARuC,aAQvCA,kBARuC;;AAWzC/C,WAAOH,OAAP,GAAiB,oBAAY;AAC3BmD,SAAGC,YAAH,GAAkB,EAAlB;AACAD,SAAGE,QAAH,GAAcC,aAAaD,QAAb,EAAuBtC,eAAvB,CAAd;;AAEA,UAAMwC,iDAAwBC,SAASC,sBAAT,CAAgCN,GAAGE,QAAH,CAAYrC,SAAZ,CAAsBC,KAAtD,CAAxB,EAAN;AACAsC,wBAAkBG,OAAlB,CAA0B,4BAAoB;AAC5C,YAAM1C,YAAY,EAAlB;;AAEAA,kBAAU2C,EAAV,GAAeC,gBAAf;AACA5C,kBAAU6C,MAAV,GAAmBC,UAAU9C,UAAU2C,EAApB,CAAnB;AACA3C,kBAAU2C,EAAV,CAAaI,KAAb,CAAmB7C,MAAnB,GAA4B2B,mBAAmB7B,SAAnB,EAA8BmC,GAAGE,QAAjC,CAA5B;AACArC,kBAAUE,MAAV,GAAmBF,UAAU2C,EAAV,CAAaK,YAAhC;;AAEAhD,kBAAUiD,MAAV,GAAmB,EAAnB;;AAEA,YAAMC,6CAAoBN,iBAAiBH,sBAAjB,CAAwCN,GAAGE,QAAH,CAAYlC,KAAZ,CAAkBF,KAA1D,CAApB,EAAN;AACAiD,sBAAcR,OAAd,CAAsB,wBAAgB;AACpC,cAAMvC,QAAQ,EAAd;;AAEAA,gBAAMwC,EAAN,GAAWQ,YAAX;AACAhD,gBAAMC,KAAN,GAAc0B,cAAc3B,KAAd,EAAqBgC,GAAGE,QAAxB,CAAd;;AAJoC,oCAKHN,mBAAmB5B,KAAnB,EAA0BgC,GAAGE,QAA7B,CALG;AAAA,cAK5B9B,SAL4B,uBAK5BA,SAL4B;AAAA,cAKjBC,SALiB,uBAKjBA,SALiB;;AAMpCL,gBAAMI,SAAN,GAAkBA,SAAlB;AACAJ,gBAAMK,SAAN,GAAkBA,SAAlB;AACAL,gBAAMM,IAAN,GAAauB,aAAa7B,KAAb,EAAoBgC,GAAGE,QAAvB,CAAb;;AAEA,cAAIlC,MAAMI,SAAN,KAAoBlB,YAAYG,IAApC,EAA0C;AACxC,gBAAIW,MAAMI,SAAN,KAAoBlB,YAAYE,KAApC,EAA2CS,UAAUoD,aAAV,GAA0B,IAA1B;;AAE3C,gBAAMC,aAAapB,eAAe9B,KAAf,CAAnB;AACA,gBAAI,CAACkD,UAAL,EAAiB;AACfhC,sBAAQiC,KAAR,CAAc,2CAAd,EAA2DnD,KAA3D;AACA,oBAAM,IAAItB,KAAJ,CAAU,gCAAV,CAAN;AACD;;AAEDqD,+BAAmBlC,SAAnB,EAA8BG,KAA9B;AACD;;AAEDH,oBAAUiD,MAAV,CAAiBM,IAAjB,CAAsBpD,KAAtB;AACD,SAvBD;;AAyBAgC,WAAGC,YAAH,CAAgBmB,IAAhB,CAAqBvD,SAArB;AACD,OArCD;AAsCD,KA3CD;;AA6CA,QAAMsC,eAAe,SAAfA,YAAe,GAAwC;AAAA,UAAvCkB,YAAuC,uEAAxB,EAAwB;AAAA,UAApBzD,eAAoB;;AAC3D0D,aAAOC,IAAP,CAAYF,YAAZ,EAA0Bd,OAA1B,CAAkC,2BAAmB;AACnD,YAAI,CAACc,aAAaG,eAAb,CAAD,YAA0CF,MAA9C,EAAsD;AACpD,gBAAM,IAAI5E,KAAJ,eAAsB8E,eAAtB,+BAAN;AACD;;AAEDF,eAAOC,IAAP,CAAYF,aAAaG,eAAb,CAAZ,EAA2CjB,OAA3C,CAAmD,mBAAW;AAC5D,cAAIc,aAAaG,eAAb,EAA8BC,OAA9B,aAAkDH,MAAtD,EAA8D;AAC5D,kBAAM,IAAI5E,KAAJ,eAAsB8E,eAAtB,4BAAN;AACD;AACD,cAAI,CAAC5D,gBAAgB4D,eAAhB,EAAiCE,cAAjC,CAAgDD,OAAhD,CAAL,EAA+D;AAC7D,kBAAM,IAAI/E,KAAJ,eAAsB+E,OAAtB,kCAAN;AACD;;AAED7D,0BAAgB4D,eAAhB,EAAiCC,OAAjC,IAA4CJ,aAAaG,eAAb,EAA8BC,OAA9B,CAA5C;AACD,SATD;AAUD,OAfD;;AAiBA,aAAO7D,eAAP;AACD,KAnBD;;AAqBA;AACA,QAAM+C,YAAY,SAAZA,SAAY,KAAM;AACtB,UAAMgB,UAAUnB,GAAGoB,qBAAH,GAA2BC,GAA3C;AACA,UAAMC,YAAYC,OAAOC,WAAP,IAAsB3B,SAAS4B,eAAT,CAAyBH,SAAjE;AACA,aAAOH,UAAUG,SAAjB;AACD,KAJD;AAMC,GApFO,EAoFN,EAAC,eAAc,CAAf,EAAiB,eAAc,CAA/B,EAAiC,mBAAkB,CAAnD,EApFM,CA1Emb,EA8JlY,GAAE,CAAC,UAASvF,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAAA,oBAChCN,QAAQ,aAAR,CADgC;AAAA,QACpFU,eADoF,aACpFA,eADoF;AAAA,QACnEK,iBADmE,aACnEA,iBADmE;AAAA,QAChDJ,WADgD,aAChDA,WADgD;;AAG5F,QAAMyC,gBAAgB,SAAhBA,aAAgB,CAAC3B,KAAD,EAAQkC,QAAR,EAAqB;AACzC,UAAIgC,YAAYlE,MAAMwC,EAAN,CAAS2B,YAAT,CAAsB7E,kBAAkBK,KAAxC,CAAhB;;AAEA;AACA,UAAI,CAACuE,SAAL,EAAgB,OAAOhC,SAASlC,KAAT,CAAeC,KAAtB;;AAEhB;AACA,UAAI,OAAOiE,SAAP,KAAqB,QAAzB,EAAmC;AACjC;AACA,YAAME,kBAAkBC,OAAOH,SAAP,CAAxB;AACA,YAAII,MAAMF,eAAN,CAAJ,EAA4B;AAC1BlD,kBAAQiC,KAAR,CAAc,iDAAiDnD,MAAMwC,EAArE;AACA,gBAAM,IAAI9D,KAAJ,CAAU,kCAAV,CAAN;AACD,SAHD,MAGO;AACLwF,sBAAYE,eAAZ;AACD;AACF;;AAED;AACA,UAAIF,aAAa,CAAjB,EAAoB,OAAOhC,SAASlC,KAAT,CAAeC,KAAtB;;AAEpB,aAAOiE,SAAP;AACD,KAtBD;;AAwBA,QAAMtC,qBAAqB,SAArBA,kBAAqB,CAAC5B,KAAD,EAAQkC,QAAR,EAAqB;AAC9C,UAAI9B,YAAYJ,MAAMwC,EAAN,CAAS2B,YAAT,CAAsB7E,kBAAkBE,SAAxC,CAAhB;AACA,UAAMa,YAAYL,MAAMwC,EAAN,CAAS2B,YAAT,CAAsB7E,kBAAkBC,SAAxC,CAAlB;;AAEA,UAAIa,cAAclB,YAAYG,IAA9B,EAAoC,OAAO,EAAEe,oBAAF,EAAaC;;AAExD;AAF2C,OAAP,CAGpC,IAAI,CAACD,SAAL,EAAgBA,YAAY8B,SAASlC,KAAT,CAAeI,SAA3B;;AAEhB;AACA,UAAIC,aAAakE,QAAQnE,SAAR,EAAmBC,SAAnB,CAAjB,EAAgDD,YAAYlB,YAAYE,KAAxB;;AAEhD;AACA,UAAI,CAACiB,SAAD,IAAcD,cAAclB,YAAYG,IAA5C,EAAkD;AAChD6B,gBAAQiC,KAAR,CAAc,uCAAuCnD,MAAMwC,EAA3D;AACA,cAAM,IAAI9D,KAAJ,CAAU,wBAAV,CAAN;AACD;;AAED,aAAO,EAAE0B,oBAAF,EAAaC,oBAAb,EAAP;AACD,KAnBD;;AAqBA,QAAMwB,eAAe,SAAfA,YAAe,CAAC7B,KAAD,EAAQkC,QAAR,EAAqB;AACxC,UAAM5B,OAAON,MAAMwC,EAAN,CAAS2B,YAAT,CAAsB7E,kBAAkBG,IAAxC,CAAb;;AAEA,UAAI,CAACa,IAAL,EAAW,OAAO4B,SAASlC,KAAT,CAAeM,IAAtB;;AAEX,aAAOA,QAAQ,MAAf;AACD,KAND;;AAQA,QAAMkE,gBAAgB,SAAhBA,aAAgB,QAAS;AAAA,UACrBpE,SADqB,GACIJ,KADJ,CACrBI,SADqB;AAAA,UACVC,SADU,GACIL,KADJ,CACVK,SADU;;;AAG7BL,YAAMwC,EAAN,CAASI,KAAT,CAAe6B,eAAf,GAAiC,UAAUpE,SAAV,GAAsB,IAAvD;;AAEA;AACA,UAAMqE,yBAAyBX,OAC5BY,gBAD4B,CACX3E,MAAMwC,EADK,EAE5BoC,gBAF4B,CAEX,kBAFW,CAA/B;AAGA,UAAIF,0BAA0B,MAA9B,EAAsC,OAAO,KAAP;;AAEtC,aAAO,IAAP;AACD,KAZD;;AAcA,QAAMG,iBAAiB,SAAjBA,cAAiB,CAACC,OAAD,EAAU9E,KAAV,EAAoB;AACzC,UAAIgC,GAAG+C,YAAH,IAAmB/C,GAAG+C,YAAH,CAAgBD,OAAhB,KAA4BA,OAAnD,EAA4D;AAC1D9C,WAAG+C,YAAH,CAAgBD,OAAhB,CAAwBE,KAAxB,GAAgC,IAAhC;AACAhD,WAAG+C,YAAH,CAAgBE,WAAhB,CAA4BC,SAA5B,CAAsCC,GAAtC,CAA0C,MAA1C;AACD;AACDnD,SAAG+C,YAAH,GAAkB/E,KAAlB;AACA8E,cAAQE,KAAR,GAAgB,CAACF,QAAQE,KAAzB;AACAhF,YAAMgF,KAAN,GAAcF,QAAQE,KAAtB;;AAEAhF,YAAMiF,WAAN,CAAkBC,SAAlB,CAA4BE,MAA5B,CAAmC,MAAnC;AACD,KAVD;;AAYA,QAAMC,gBAAgB,SAAhBA,aAAgB,QAAS;AAAA,UACrBjF,SADqB,GACIJ,KADJ,CACrBI,SADqB;AAAA,UACVC,SADU,GACIL,KADJ,CACVK,SADU;;;AAG7B,UAAIyE,UAAUzC,SAASiD,aAAT,CAAuB,OAAvB,CAAd;AACAR,cAAQS,GAAR,GAAclF,SAAd;AACAyE,cAAQU,QAAR,GAAmB,IAAnB;AACAV,cAAQW,IAAR,GAAe,IAAf;AACAX,cAAQY,YAAR,GAAuB,IAAvB;AACAZ,cAAQE,KAAR,GAAgB,IAAhB;AACAhF,YAAMgF,KAAN,GAAc,IAAd;AACAhF,YAAM8E,OAAN,GAAgBA,OAAhB;AACA9E,YAAMwC,EAAN,CAASmD,WAAT,CAAqBb,OAArB;;AAEA,UAAI,OAAOf,OAAO6B,WAAd,KAA8B,WAAlC,EAA+C;AAC7C,YAAI,CAAC5F,MAAMM,IAAX,EAAiB;AACfwE,kBAAQe,gBAAR,CAAyB,OAAzB,EAAkC,YAAW;AAC3ChB,2BAAeC,OAAf,EAAwB9E,KAAxB;AACD,WAFD;AAGA,cAAIiF,cAAc5C,SAASiD,aAAT,CAAuB,GAAvB,CAAlB;AACAL,sBAAYa,IAAZ,GAAmB,GAAnB;AACAb,sBAAYc,SAAZ,IAAyB,iBAAzB;AACAd,sBAAYU,WAAZ,CAAwBtD,SAASiD,aAAT,CAAuB,MAAvB,CAAxB;AACAL,sBAAYY,gBAAZ,CAA6B,OAA7B,EAAsC,UAAS9H,CAAT,EAAY;AAChDA,cAAEiI,cAAF;AACAnB,2BAAeC,OAAf,EAAwB9E,KAAxB;AACD,WAHD;AAIAA,gBAAMiF,WAAN,GAAoBA,WAApB;AACAjF,gBAAMwC,EAAN,CAASyD,qBAAT,CAA+B,UAA/B,EAA2ChB,WAA3C;AACD;AACF;;AAED,aAAO,IAAP;AACD,KAhCD;;AAkCA,QAAMnD,iBAAiB,SAAjBA,cAAiB,QAAS;AAAA,UACtB1B,SADsB,GACRJ,KADQ,CACtBI,SADsB;;;AAG9B,UAAIA,cAAclB,YAAYC,KAA9B,EAAqC,OAAOqF,cAAcxE,KAAd,CAAP;AACrC,UAAII,cAAclB,YAAYE,KAA9B,EAAqC,OAAOiG,cAAcrF,KAAd,CAAP;;AAErC,aAAO,KAAP;AACD,KAPD;;AASA,QAAM+B,qBAAqB,SAArBA,kBAAqB,CAAClC,SAAD,EAAYG,KAAZ,EAAsB;AAC/CkG;AACA;AACA;AACA;AACA,UAAIC,YAAY,CAAhB;AAAA,UACEC,aAAa,CADf;AAAA,UAEEC,gBAAgB,CAFlB;;AAIA;AACA,UAAIxG,UAAU6C,MAAV,GAAmBV,GAAGsE,WAAH,CAAeC,YAAtC,EAAoD;AAClDH,qBAAa,CAACvG,UAAUE,MAAV,GAAmBF,UAAU6C,MAA9B,IAAwCxC,KAAKsG,GAAL,CAASxG,MAAMC,KAAf,CAArD;;AAEA,YAAID,MAAMC,KAAN,GAAc,CAAlB,EAAqB;AACnBkG,sBAAY,CAACjG,KAAKsG,GAAL,CAAS3G,UAAU6C,MAAnB,CAAb;AACA2D,0BAAgBxG,UAAUE,MAAV,GAAmBF,UAAU6C,MAA7C;AACD,SAHD,MAGO;AACL2D,0BAAgBD,aAAavG,UAAUE,MAAvC;AACD;AACF,OATD,MASO;AACL;AACAqG,qBAAa,CAACvG,UAAUE,MAAV,GAAmBiC,GAAGsE,WAAH,CAAeC,YAAnC,IAAmDrG,KAAKsG,GAAL,CAASxG,MAAMC,KAAf,CAAhE;AACAoG,wBAAgBD,aAAavG,UAAUE,MAAvC;;AAEA,YAAIC,MAAMC,KAAN,GAAc,CAAlB,EAAqB;AACnBkG,sBAAY,CAACC,UAAb;AACAC,0BAAgBxG,UAAUE,MAAV,GAAmBiC,GAAGsE,WAAH,CAAeC,YAAf,GAA8BrG,KAAKsG,GAAL,CAASxG,MAAMC,KAAf,CAAjE;AACD,SAHD,MAGO;AACLoG,0BAAgBD,aAAavG,UAAUE,MAAvC;AACD;AACF;;AAED,UAAIG,KAAKsG,GAAL,CAASL,SAAT,KAAuBjG,KAAKsG,GAAL,CAASH,aAAT,CAA3B,EAAoDA,gBAAgBnG,KAAKsG,GAAL,CAASL,SAAT,IAAsB,CAAtC;;AAEpDnG,YAAMwC,EAAN,CAASI,KAAT,CAAe6D,WAAf,CAA2B,gBAA3B,EAA6CJ,gBAAgB,IAA7D,EAAmE,IAAnE;AACArG,YAAMwC,EAAN,CAASI,KAAT,CAAe6D,WAAf,CAA2B,YAA3B,EAAyCN,YAAY,IAArD,EAA2D,IAA3D;AACD,KApCD;;AAsCAnH,WAAOH,OAAP,GAAiB;AACf8C,kCADe;AAEfC,4CAFe;AAGfC,gCAHe;AAIfC,oCAJe;AAKfC;;AAGF;AARiB,KAAjB,CASA,IAAM2E,eAAe,SAAfA,YAAe,gBAAiB;AACpC,UAAMC,YAAYC,cACfC,MADe,CACRD,cAAcE,WAAd,CAA0B,GAA1B,IAAiC,CADzB,EAC4BF,cAAc7H,MAD1C,EAEfgI,WAFe,EAAlB;AAGA,UAAIJ,cAAc,CAAC,CAAnB,EAAsB;AACpBzF,gBAAQiC,KAAR,CAAc,kDAAkDyD,aAAhE;AACA,cAAM,IAAIlI,KAAJ,CAAU,6BAAV,CAAN;AACD,OAHD,MAGO;AACL,eAAOiI,SAAP;AACD;AACF,KAVD;;AAYA;AACA,QAAMpC,UAAU,SAAVA,OAAU,CAACyC,aAAD,EAAgBJ,aAAhB,EAAkC;AAChD,aACEI,kBAAkB9H,YAAYE,KAA9B,IACAH,gBAAgBgI,OAAhB,CAAwBP,aAAaE,aAAb,CAAxB,MAAyD,CAAC,CAF5D;AAID,KALD;;AAOA,QAAMV,oBAAoB,SAApBA,iBAAoB,GAAM;AAC9BlE,SAAGsE,WAAH,GAAiB;AACfxC,mBAAWC,OAAOmD,OAAP,IAAkB7E,SAAS4B,eAAT,CAAyBH,SADvC;AAEfyC,sBAAcxC,OAAOoD,WAFN;AAGfC,yBAAiBrD,OAAOoD,WAAP,GAAqB;AAHvB,OAAjB;AAKD,KAND;AAQC,GAxM0D,EAwMzD,EAAC,eAAc,CAAf,EAxMyD,CA9JgY,EAsWta,GAAE,CAAC,UAAS5I,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAAA,oBAC1BN,QAAQ,aAAR,CAD0B;AAAA,QAChDe,iBADgD,aAChDA,iBADgD;;AAGxD,QAAMoC,qBAAqB,SAArBA,kBAAqB,CAAC7B,SAAD,EAAYqC,QAAZ,EAAyB;AAClD,UAAMmF,aAAaxH,UAAU2C,EAAV,CAAa2B,YAAb,CAA0B7E,kBAAkBI,MAA5C,CAAnB;;AAEA;AACA,UAAI,CAAC2H,UAAL,EAAiB,OAAOnF,SAASrC,SAAT,CAAmBE,MAA1B;;AAEjB;AACA,UAAI,CAACuE,MAAMD,OAAOgD,UAAP,CAAN,CAAL,EAAgC,OAAOA,aAAa,IAApB;;AAEhC;AACA,UAAMC,SAASD,WAAWR,MAAX,CAAkBQ,WAAWtI,MAAX,GAAoB,CAAtC,EAAyCsI,WAAWtI,MAApD,CAAf;AACA,UAAIuI,WAAW,IAAX,IAAmBA,WAAW,IAAlC,EAAwC,OAAOD,UAAP;;AAExC,YAAM,IAAI3I,KAAJ,CAAU,2DAA2D4I,MAArE,CAAN;AACD,KAdD;;AAgBAtI,WAAOH,OAAP,GAAiB,EAAE6C,sCAAF,EAAjB;AAEC,GArBsB,EAqBrB,EAAC,eAAc,CAAf,EArBqB,CAtWoa,EA2Xta,GAAE,CAAC,UAASnD,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACxD0I,cAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmBC,KAAnB,CAAyB3I,OAAzB,EAAiC0I,SAAjC;AACC,GAFsB,EAErB,EAAC,eAAc,CAAf,EAAiB,OAAM,CAAvB,EAFqB,CA3Xoa,EA6X9Z,GAAE,CAAC,UAAShJ,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAChE,KAAC,CAAC,kBAAU;AACV,UAAM4I,wBAAwB,SAAxBA,qBAAwB,GAAM;AAClC,YAAMzF,KAAK,EAAX;AACAA,WAAG0F,IAAH,GAAUnJ,QAAQ,QAAR,CAAV,CAFkC,CAEN;;AAE5B,YAAI,OAAOwF,OAAO6B,WAAd,KAA8B,WAAlC,EAA+C7B,OAAO4D,QAAP,GAAkB;AAAA,iBAAMpJ,QAAQ,UAAR,GAAN;AAAA,SAAlB;;AAE/C;AACAwF,eAAO6D,GAAP,GAAc,YAAM;AAClB,iBACE7D,OAAO8D,qBAAP,IACA9D,OAAO+D,2BADP,IAEA/D,OAAOgE,wBAFP,IAGA,UAASC,QAAT,EAAmB;AACjBjE,mBAAOkE,UAAP,CAAkBD,QAAlB,EAA4B,OAAO,EAAnC,EADiB,CACsB;AACxC,WANH;AAQD,SATY,EAAb;;AAWA;AACA,YAAME,aAAa,SAAbA,UAAa,GAAM;AACvB3J,kBAAQ,aAAR;AACAqJ,cAAIM,UAAJ;AACD,SAHD;;AAKA;AACAN,YAAIM,UAAJ;;AAEA,eAAOlG,EAAP;AACD,OA5BD;;AA8BA;AACA,UAAI,OAAOA,EAAP,KAAc,WAAlB,EAA+B;AAC7B+B,eAAO/B,EAAP,GAAYyF,uBAAZ;AACAvG,gBAAQC,GAAR,CAAY,8BAAZ,EAA4C,cAA5C;AACD,OAHD,MAGO;AACLD,gBAAQC,GAAR,CAAY,sCAAZ,EAAoD,YAApD;AACD;AACF,KAtCA,EAsCE4C,MAtCF;AAwCA,GAzC8B,EAyC7B,EAAC,UAAS,CAAV,EAAY,YAAW,CAAvB,EAAyB,eAAc,CAAvC,EAzC6B,CA7X4Z,EAsa9Y,GAAE,CAAC,UAASxF,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AAAA,oBACxDN,QAAQ,aAAR,CADwD;AAAA,QACxEW,WADwE,aACxEA,WADwE;;AAAA,oBAEjDX,QAAQ,aAAR,CAFiD;AAAA,QAExEwD,kBAFwE,aAExEA,kBAFwE;;AAIhF/C,WAAOH,OAAP,GAAiB,YAAM;AACrBmD,SAAGC,YAAH,CAAgBM,OAAhB,CAAwB,qBAAa;AACnC1C,kBAAUE,MAAV,GAAmBF,UAAU2C,EAAV,CAAaK,YAAhC;AACAhD,kBAAUiD,MAAV,CAAiBP,OAAjB,CAAyB,iBAAS;AAChC,cAAIvC,MAAMI,SAAN,KAAoBlB,YAAYG,IAApC,EAA0C0C,mBAAmBlC,SAAnB,EAA8BG,KAA9B;AAC3C,SAFD;AAGD,OALD;AAMD,KAPD;AASC,GAb8C,EAa7C,EAAC,eAAc,CAAf,EAAiB,eAAc,CAA/B,EAb6C,CAta4Y,EAmbtZ,GAAE,CAAC,UAASzB,OAAT,EAAiBS,MAAjB,EAAwBH,OAAxB,EAAgC;AACxEG,WAAOH,OAAP,GAAiB,YAAM;AACrB;AACAmD,SAAGsE,WAAH,CAAexC,SAAf,GAA2BC,OAAOmD,OAAP,IAAkB7E,SAAS4B,eAAT,CAAyBH,SAAtE;AACA,UAAI9B,GAAGsE,WAAH,CAAexC,SAAf,KAA6B9B,GAAGmG,aAApC,EAAmD;AACjD;AACD,OAFD,MAEO;AACLnG,WAAGmG,aAAH,GAAmBnG,GAAGsE,WAAH,CAAexC,SAAlC;AACD;;AAED;AACA,WAAK,IAAItF,IAAI,CAAb,EAAgBA,IAAIwD,GAAGC,YAAH,CAAgBlD,MAApC,EAA4CP,GAA5C,EAAiD;AAC/C,YAAMqB,YAAYmC,GAAGC,YAAH,CAAgBzD,CAAhB,CAAlB;AACA,YAAI4J,aAAJ;;AAEA;AACA,YAAIC,aAAaxI,UAAU6C,MAAvB,EAA+B7C,UAAUE,MAAzC,CAAJ,EAAsD;AACpD,cAAIvB,IAAIwD,GAAGsG,yBAAX,EAAsCtG,GAAGsG,yBAAH,GAA+B9J,CAA/B;AACtC;AACA,cAAIqB,UAAU6C,MAAV,GAAmBV,GAAGsE,WAAH,CAAeC,YAAtC,EAAoD;AAClD6B,mBAAOpG,GAAGsE,WAAH,CAAexC,SAAtB;;AAEA;AACA;AACD,WALD,MAKO;AACLsE,mBAAOpG,GAAGsE,WAAH,CAAeC,YAAf,GAA8B1G,UAAU6C,MAAxC,GAAiDV,GAAGsE,WAAH,CAAexC,SAAvE;AACD;;AAED,eAAK,IAAIyE,IAAI,CAAb,EAAgBA,IAAIvG,GAAGC,YAAH,CAAgBzD,CAAhB,EAAmBsE,MAAnB,CAA0B/D,MAA9C,EAAsDwJ,GAAtD,EAA2D;AACzD,gBAAMvI,QAAQgC,GAAGC,YAAH,CAAgBzD,CAAhB,EAAmBsE,MAAnB,CAA0ByF,CAA1B,CAAd;AACA,gBAAIvI,MAAM8E,OAAV,EAAmB;AACjB9E,oBAAM8E,OAAN,CAAc0D,IAAd;AACA,kBAAIxI,UAAUgC,GAAG+C,YAAjB,EAA+B;AAC7B,oBAAI,CAAC/E,MAAMgF,KAAX,EAAkB;AAChBhF,wBAAM8E,OAAN,CAAcE,KAAd,GAAsBhF,MAAMgF,KAA5B;AACAhF,wBAAMgF,KAAN,GACIhD,GAAG+C,YAAH,CAAgBE,WAAhB,CAA4BC,SAA5B,CAAsCC,GAAtC,CAA0C,MAA1C,CADJ,GAEInD,GAAG+C,YAAH,CAAgBE,WAAhB,CAA4BC,SAA5B,CAAsCuD,MAAtC,CAA6C,MAA7C,CAFJ;AAGD;AACF;AACF;;AAEDC,sBAAU1I,MAAMwC,EAAhB,EAAoB,mBAAmBtC,KAAKyI,KAAL,CAAWP,OAAOpI,MAAMC,KAAxB,CAAnB,GAAoD,QAAxE;AACD;AACF,SA5BD,MA4BO;AACL;AACA,cAAIJ,UAAUoD,aAAd,EAA6B;AAC3B;AACA,iBAAK,IAAIsF,KAAI,CAAb,EAAgBA,KAAIvG,GAAGC,YAAH,CAAgBzD,CAAhB,EAAmBsE,MAAnB,CAA0B/D,MAA9C,EAAsDwJ,IAAtD,EAA2D;AACzD,kBAAIvI,SAAQgC,GAAGC,YAAH,CAAgBzD,CAAhB,EAAmBsE,MAAnB,CAA0ByF,EAA1B,CAAZ;AACA,kBAAIvI,OAAM8E,OAAV,EAAmB;AACjB9E,uBAAM8E,OAAN,CAAc8D,KAAd;AACA,oBAAI5G,GAAG+C,YAAH,KAAoB/E,MAAxB,EAA+B;AAC7BA,yBAAM8E,OAAN,CAAcE,KAAd,GAAsB,IAAtB;AACD;AACF;AACF;AACF;AACD,cAAM6D,gBAAgB7G,GAAGC,YAAH,CAAgBzD,IAAI,CAApB,CAAtB;AACA;AACA,cACEqK,iBACA,CAACR,aAAaQ,cAAcnG,MAA3B,EAAmCmG,cAAc9I,MAAjD,CADD,IAEAiC,GAAGsG,yBAAH,GAA+B9J,CAF/B,IAGA,CAACsK,uBAAuBjJ,SAAvB,EAAkCgJ,aAAlC,CAJH,EAKE;AACA;AACD,WAPD,MAOO;AACL,gBAAIA,iBAAiBR,aAAaQ,cAAcnG,MAA3B,EAAmCmG,cAAc9I,MAAjD,CAArB,EAA+E;AAC7EiC,iBAAGsG,yBAAH,GAA+B9J,IAAI,CAAnC;AACD;AACF;AACF;AACF;AACF,KAzED;;AA2EA;AACA,QAAMkK,YAAY,SAAZA,SAAY,CAACK,OAAD,EAAUnG,KAAV,EAAoB;AACpCmG,cAAQnG,KAAR,CAAcoG,eAAd,GAAgCpG,KAAhC;AACAmG,cAAQnG,KAAR,CAAcqG,YAAd,GAA6BrG,KAA7B;AACAmG,cAAQnG,KAAR,CAAcsG,WAAd,GAA4BtG,KAA5B;AACAmG,cAAQnG,KAAR,CAAcuG,UAAd,GAA2BvG,KAA3B;AACAmG,cAAQnG,KAAR,CAAc8F,SAAd,GAA0B9F,KAA1B;AACD,KAND;;AAQA;AACA,QAAMyF,eAAe,SAAfA,YAAe,CAAC3F,MAAD,EAAS3C,MAAT,EAAoB;AACvC,aACEiC,GAAGsE,WAAH,CAAexC,SAAf,GAA2B9B,GAAGsE,WAAH,CAAeC,YAA1C,GAAyD7D,MAAzD,GAAkE,CAAlE,IACAV,GAAGsE,WAAH,CAAexC,SAAf,GAA2BpB,SAAS3C,MAFtC;AAID,KALD;;AAOA,QAAM+I,yBAAyB,SAAzBA,sBAAyB,CAACjJ,SAAD,EAAYgJ,aAAZ,EAA8B;AAC3D,aAAOhJ,UAAU6C,MAAV,GAAmB7C,UAAUE,MAA7B,GAAsC8I,cAAcnG,MAAd,GAAuBmG,cAAc9I,MAAlF;AACD,KAFD;AAIC,GAjGsC,EAiGrC,EAjGqC,CAnboZ,EAA3b,EAohBO,EAphBP,EAohBU,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,EAAW,CAAX,EAAa,CAAb,EAAe,CAAf,CAphBV","file":"parallax-vanilla.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nconst videoExtensions = [\n  '3g2',\n  '3gp',\n  'asf',\n  'avi',\n  'flv',\n  'h264',\n  'm4v',\n  'mov',\n  'mp4',\n  'mpg',\n  'mpeg',\n  'rm',\n  'srt',\n  'swf',\n  'vow',\n  'vob',\n  'wmv',\n]\n\nconst MEDIA_TYPES = {\n  IMAGE: 'image',\n  VIDEO: 'video',\n  NONE: 'none',\n}\n\nconst ELEMENT_DATA_KEYS = {\n  MEDIAPATH: 'pv-mediapath',\n  MEDIATYPE: 'pv-mediatype',\n  MUTE: 'pv-mute',\n  HEIGHT: 'pv-height',\n  SPEED: 'pv-speed',\n}\n\nconst defaultSettings = {\n  container: {\n    class: 'pv-container',\n    height: '250px',\n  },\n  block: {\n    class: 'pv-block',\n    speed: -Math.PI,\n    mediatype: MEDIA_TYPES.IMAGE,\n    mediapath: null,\n    mute: 'false',\n  },\n}\n\nmodule.exports = { videoExtensions, defaultSettings, ELEMENT_DATA_KEYS, MEDIA_TYPES }\n\n},{}],2:[function(require,module,exports){\n// pretty print\nconst pp = (source, obj) => {\n  var date = new Date(),\n    h = date.getHours(),\n    m = date.getMinutes(),\n    s = date.getSeconds(),\n    now = h + ':' + m + ':' + s + ' <- ' + source\n  console.log('%c ' + now, 'color:blue;font-size:15px;')\n  if (obj instanceof HTMLElement) {\n    console.log(obj)\n  } else {\n    console.log(JSON.stringify(obj, null, 2))\n  }\n}\n\n// Checks if String argument consists exclusively of numbers\nconst isStringOfIntegers = arg => {\n  return /^[0-9]+$/.test(arg)\n}\n\nmodule.exports = {}\n\n},{}],3:[function(require,module,exports){\nconst { defaultSettings, MEDIA_TYPES } = require('./constants')\nconst { setContainerHeight } = require('./initContainer')\nconst {\n  setBlockSpeed,\n  setBlockMediaProps,\n  setBlockMute,\n  setBlockVisual,\n  setBlockAttributes,\n} = require('./initBlock')\n\nmodule.exports = settings => {\n  pv.containerArr = []\n  pv.settings = initSettings(settings, defaultSettings)\n\n  const containerElements = [...document.getElementsByClassName(pv.settings.container.class)]\n  containerElements.forEach(containerElement => {\n    const container = {}\n\n    container.el = containerElement\n    container.offset = offsetTop(container.el)\n    container.el.style.height = setContainerHeight(container, pv.settings)\n    container.height = container.el.clientHeight\n\n    container.blocks = []\n\n    const blockElements = [...containerElement.getElementsByClassName(pv.settings.block.class)]\n    blockElements.forEach(blockElement => {\n      const block = {}\n\n      block.el = blockElement\n      block.speed = setBlockSpeed(block, pv.settings)\n      const { mediatype, mediapath } = setBlockMediaProps(block, pv.settings)\n      block.mediatype = mediatype\n      block.mediapath = mediapath\n      block.mute = setBlockMute(block, pv.settings)\n\n      if (block.mediatype !== MEDIA_TYPES.NONE) {\n        if (block.mediatype === MEDIA_TYPES.VIDEO) container.hasVideoBlock = true\n\n        const successful = setBlockVisual(block)\n        if (!successful) {\n          console.error('Did not successfully set media for block:', block)\n          throw new Error('Did not successfully set media')\n        }\n\n        setBlockAttributes(container, block)\n      }\n\n      container.blocks.push(block)\n    })\n\n    pv.containerArr.push(container)\n  })\n}\n\nconst initSettings = (userSettings = {}, defaultSettings) => {\n  Object.keys(userSettings).forEach(elementSettings => {\n    if (!userSettings[elementSettings] instanceof Object) {\n      throw new Error(`Expected ${elementSettings} to be of instance Object`)\n    }\n\n    Object.keys(userSettings[elementSettings]).forEach(setting => {\n      if (userSettings[elementSettings][setting] instanceof Object) {\n        throw new Error(`Expected ${elementSettings} to be primitive value`)\n      }\n      if (!defaultSettings[elementSettings].hasOwnProperty(setting)) {\n        throw new Error(`Expected ${setting} to match available settings`)\n      }\n\n      defaultSettings[elementSettings][setting] = userSettings[elementSettings][setting]\n    })\n  })\n\n  return defaultSettings\n}\n\n// Calculates the top offset from an element to the window's || document's top, Link: https://plainjs.com/javascript/styles/get-the-position-of-an-element-relative-to-the-document-24/\nconst offsetTop = el => {\n  const rectTop = el.getBoundingClientRect().top\n  const scrollTop = window.pageYOffset || document.documentElement.scrollTop\n  return rectTop + scrollTop\n}\n\n},{\"./constants\":1,\"./initBlock\":4,\"./initContainer\":5}],4:[function(require,module,exports){\nconst { videoExtensions, ELEMENT_DATA_KEYS, MEDIA_TYPES } = require('./constants')\n\nconst setBlockSpeed = (block, settings) => {\n  let attrSpeed = block.el.getAttribute(ELEMENT_DATA_KEYS.SPEED)\n\n  // No data attribute defined\n  if (!attrSpeed) return settings.block.speed\n\n  // Speed is a string\n  if (typeof attrSpeed === 'string') {\n    // Speed must consist solely of integers\n    const attrSpeedNumber = Number(attrSpeed)\n    if (isNaN(attrSpeedNumber)) {\n      console.error('Invalid type for attribute speed for block: ' + block.el)\n      throw new Error('Invalid type for attribute speed')\n    } else {\n      attrSpeed = attrSpeedNumber\n    }\n  }\n\n  // Speed is set to 0 (fall back on block speed)\n  if (attrSpeed == 0) return settings.block.speed\n\n  return attrSpeed\n}\n\nconst setBlockMediaProps = (block, settings) => {\n  let mediatype = block.el.getAttribute(ELEMENT_DATA_KEYS.MEDIATYPE)\n  const mediapath = block.el.getAttribute(ELEMENT_DATA_KEYS.MEDIAPATH)\n\n  if (mediatype === MEDIA_TYPES.NONE) return { mediatype, mediapath }\n\n  // No data attribute defined\n  if (!mediatype) mediatype = settings.block.mediatype\n\n  // Media type set to video\n  if (mediapath && isVideo(mediatype, mediapath)) mediatype = MEDIA_TYPES.VIDEO\n\n  // No data attribute defined\n  if (!mediapath && mediatype !== MEDIA_TYPES.NONE) {\n    console.error('Media path not defined for block: ' + block.el)\n    throw new Error('Media path not defined')\n  }\n\n  return { mediatype, mediapath }\n}\n\nconst setBlockMute = (block, settings) => {\n  const mute = block.el.getAttribute(ELEMENT_DATA_KEYS.MUTE)\n\n  if (!mute) return settings.block.mute\n\n  return mute == 'true'\n}\n\nconst setBlockImage = block => {\n  const { mediatype, mediapath } = block\n\n  block.el.style.backgroundImage = \"url('\" + mediapath + \"')\"\n\n  // Check if the background image did not get set\n  const backgroundImageFromDOM = window\n    .getComputedStyle(block.el)\n    .getPropertyValue('background-image')\n  if (backgroundImageFromDOM == 'none') return false\n\n  return true\n}\n\nconst videoElClicked = (videoEl, block) => {\n  if (pv.unmutedBlock && pv.unmutedBlock.videoEl !== videoEl) {\n    pv.unmutedBlock.videoEl.muted = true\n    pv.unmutedBlock.audioButton.classList.add('mute')\n  }\n  pv.unmutedBlock = block\n  videoEl.muted = !videoEl.muted\n  block.muted = videoEl.muted\n\n  block.audioButton.classList.toggle('mute')\n}\n\nconst setBlockVideo = block => {\n  const { mediatype, mediapath } = block\n\n  let videoEl = document.createElement('video')\n  videoEl.src = mediapath\n  videoEl.autoplay = true\n  videoEl.loop = true\n  videoEl.defaultMuted = true\n  videoEl.muted = true\n  block.muted = true\n  block.videoEl = videoEl\n  block.el.appendChild(videoEl)\n\n  if (typeof window.orientation === 'undefined') {\n    if (!block.mute) {\n      videoEl.addEventListener('click', function() {\n        videoElClicked(videoEl, block)\n      })\n      let audioButton = document.createElement('a')\n      audioButton.href = '#'\n      audioButton.className += 'audio-icon mute'\n      audioButton.appendChild(document.createElement('span'))\n      audioButton.addEventListener('click', function(e) {\n        e.preventDefault()\n        videoElClicked(videoEl, block)\n      })\n      block.audioButton = audioButton\n      block.el.insertAdjacentElement('afterend', audioButton)\n    }\n  }\n\n  return true\n}\n\nconst setBlockVisual = block => {\n  const { mediatype } = block\n\n  if (mediatype === MEDIA_TYPES.IMAGE) return setBlockImage(block)\n  if (mediatype === MEDIA_TYPES.VIDEO) return setBlockVideo(block)\n\n  return false\n}\n\nconst setBlockAttributes = (container, block) => {\n  updateWindowProps()\n  // calculates the negative top property\n  // negative scroll distance\n  // plus container height / factor, because whenever we pass the element we'll always scroll the window faster then the animation (if factor < 1 it'll be increased to all is good)\n  let marginTop = 0,\n    scrollDist = 0,\n    paddingBottom = 0\n\n  // if the pv-block offset is less than the windowheight, then the scrolldist will have to be recalculated\n  if (container.offset < pv.windowProps.windowHeight) {\n    scrollDist = (container.height + container.offset) / Math.abs(block.speed)\n\n    if (block.speed > 0) {\n      marginTop = -Math.abs(container.offset)\n      paddingBottom = container.height + container.offset\n    } else {\n      paddingBottom = scrollDist + container.height\n    }\n  } else {\n    // the pv-block is below the initial windowheight\n    scrollDist = (container.height + pv.windowProps.windowHeight) / Math.abs(block.speed)\n    paddingBottom = scrollDist + container.height\n\n    if (block.speed > 0) {\n      marginTop = -scrollDist\n      paddingBottom = container.height + pv.windowProps.windowHeight / Math.abs(block.speed)\n    } else {\n      paddingBottom = scrollDist + container.height\n    }\n  }\n\n  if (Math.abs(marginTop) >= Math.abs(paddingBottom)) paddingBottom = Math.abs(marginTop) + 1\n\n  block.el.style.setProperty('padding-bottom', paddingBottom + 'px', null)\n  block.el.style.setProperty('margin-top', marginTop + 'px', null)\n}\n\nmodule.exports = {\n  setBlockSpeed,\n  setBlockMediaProps,\n  setBlockMute,\n  setBlockVisual,\n  setBlockAttributes,\n}\n\n// Returns the extension of a media path\nconst getExtension = attrMediapath => {\n  const extension = attrMediapath\n    .substr(attrMediapath.lastIndexOf('.') + 1, attrMediapath.length)\n    .toLowerCase()\n  if (extension === -1) {\n    console.error('Invalid extension for media with media path: ' + attrMediapath)\n    throw new Error('Invalid extension for media')\n  } else {\n    return extension\n  }\n}\n\n// returns {true} if media is a video\nconst isVideo = (attrMediatype, attrMediapath) => {\n  return (\n    attrMediatype === MEDIA_TYPES.VIDEO ||\n    videoExtensions.indexOf(getExtension(attrMediapath)) !== -1\n  )\n}\n\nconst updateWindowProps = () => {\n  pv.windowProps = {\n    scrollTop: window.scrollY || document.documentElement.scrollTop,\n    windowHeight: window.innerHeight,\n    windowMidHeight: window.innerHeight / 2,\n  }\n}\n\n},{\"./constants\":1}],5:[function(require,module,exports){\nconst { ELEMENT_DATA_KEYS } = require('./constants')\n\nconst setContainerHeight = (container, settings) => {\n  const attrHeight = container.el.getAttribute(ELEMENT_DATA_KEYS.HEIGHT)\n\n  // No data attribute\n  if (!attrHeight) return settings.container.height\n\n  // String only consists of integers, add px\n  if (!isNaN(Number(attrHeight))) return attrHeight + 'px'\n\n  // String has more than integers, assume suffix is either px or vh\n  const suffix = attrHeight.substr(attrHeight.length - 2, attrHeight.length)\n  if (suffix === 'px' || suffix === 'vh') return attrHeight\n\n  throw new Error('Invalid height suffix, expected \"px\" or \"vh\" but got: ' + suffix)\n}\n\nmodule.exports = { setContainerHeight }\n\n},{\"./constants\":1}],6:[function(require,module,exports){\narguments[4][4][0].apply(exports,arguments)\n},{\"./constants\":1,\"dup\":4}],7:[function(require,module,exports){\n;(window => {\n  const defineParallaxVanilla = () => {\n    const pv = {}\n    pv.init = require('./init') // exposes init function to user\n\n    if (typeof window.orientation === 'undefined') window.onresize = () => require('./resize')()\n\n    // Request animation frame, also binds function to window\n    window.raf = (() => {\n      return (\n        window.requestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        window.mozRequestAnimationFrame ||\n        function(callback) {\n          window.setTimeout(callback, 1000 / 60) // 60 FPS\n        }\n      )\n    })()\n\n    // Main loop for updating variables and performing translates\n    const updateLoop = () => {\n      require('./translate')()\n      raf(updateLoop)\n    }\n\n    // Initialize main loop\n    raf(updateLoop)\n\n    return pv\n  }\n\n  // Define pv\n  if (typeof pv === 'undefined') {\n    window.pv = defineParallaxVanilla()\n    console.log('%c parallax-vanilla defined.', 'color: green')\n  } else {\n    console.log('%c parallax-vanilla already defined.', 'color: red')\n  }\n})(window)\n\n},{\"./init\":3,\"./resize\":8,\"./translate\":9}],8:[function(require,module,exports){\nconst { MEDIA_TYPES } = require('./constants')\nconst { setBlockAttributes } = require('./initblock')\n\nmodule.exports = () => {\n  pv.containerArr.forEach(container => {\n    container.height = container.el.clientHeight\n    container.blocks.forEach(block => {\n      if (block.mediatype !== MEDIA_TYPES.NONE) setBlockAttributes(container, block)\n    })\n  })\n}\n\n},{\"./constants\":1,\"./initblock\":6}],9:[function(require,module,exports){\nmodule.exports = () => {\n  // Update selected attributes in windowProps on window raf event\n  pv.windowProps.scrollTop = window.scrollY || document.documentElement.scrollTop\n  if (pv.windowProps.scrollTop === pv.prevScrollTop) {\n    return\n  } else {\n    pv.prevScrollTop = pv.windowProps.scrollTop\n  }\n\n  // translate the parallax blocks, creating the parallax effect\n  for (let i = 0; i < pv.containerArr.length; i++) {\n    const container = pv.containerArr[i]\n    let calc\n\n    // check if parallax block is in viewport\n    if (isInViewport(container.offset, container.height)) {\n      if (i > pv.mostReContainerInViewport) pv.mostReContainerInViewport = i\n      // if any parallax is within the first windowheight, transform from 0 (pv.scrollTop)\n      if (container.offset < pv.windowProps.windowHeight) {\n        calc = pv.windowProps.scrollTop\n\n        // if the parallax is further down on the page\n        // calculate windowheight - parallax offset + scrollTop to start from 0 whereever it appears\n      } else {\n        calc = pv.windowProps.windowHeight - container.offset + pv.windowProps.scrollTop\n      }\n\n      for (let j = 0; j < pv.containerArr[i].blocks.length; j++) {\n        const block = pv.containerArr[i].blocks[j]\n        if (block.videoEl) {\n          block.videoEl.play()\n          if (block === pv.unmutedBlock) {\n            if (!block.muted) {\n              block.videoEl.muted = block.muted\n              block.muted\n                ? pv.unmutedBlock.audioButton.classList.add('mute')\n                : pv.unmutedBlock.audioButton.classList.remove('mute')\n            }\n          }\n        }\n\n        transform(block.el, 'translate3d(0,' + Math.round(calc / block.speed) + 'px, 0)')\n      }\n    } else {\n      // check if container even has a video block\n      if (container.hasVideoBlock) {\n        // pause blocks with playing video\n        for (let j = 0; j < pv.containerArr[i].blocks.length; j++) {\n          let block = pv.containerArr[i].blocks[j]\n          if (block.videoEl) {\n            block.videoEl.pause()\n            if (pv.unmutedBlock === block) {\n              block.videoEl.muted = true\n            }\n          }\n        }\n      }\n      const nextContainer = pv.containerArr[i + 1]\n      // check if next container is in view - else break\n      if (\n        nextContainer &&\n        !isInViewport(nextContainer.offset, nextContainer.height) &&\n        pv.mostReContainerInViewport < i &&\n        !nextContainerIsSmaller(container, nextContainer)\n      ) {\n        break\n      } else {\n        if (nextContainer && isInViewport(nextContainer.offset, nextContainer.height)) {\n          pv.mostReContainerInViewport = i + 1\n        }\n      }\n    }\n  }\n}\n\n//Transform prefixes for CSS\nconst transform = (element, style) => {\n  element.style.webkitTransform = style\n  element.style.MozTransform = style\n  element.style.msTransform = style\n  element.style.OTransform = style\n  element.style.transform = style\n}\n\n// Check if the container is in view\nconst isInViewport = (offset, height) => {\n  return (\n    pv.windowProps.scrollTop + pv.windowProps.windowHeight - offset > 0 &&\n    pv.windowProps.scrollTop < offset + height\n  )\n}\n\nconst nextContainerIsSmaller = (container, nextContainer) => {\n  return container.offset + container.height > nextContainer.offset + nextContainer.height\n}\n\n},{}]},{},[1,2,3,4,5,7,8,9]);\n"]}